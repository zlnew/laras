import{u as p,Q as P}from"./use-dialog-plugin-component-646efe56.js";import{d as D,j as c,T as j,o as k,c as J,w as a,u as o,q as N,a as e,s as d,h as g,v as m,i as O,g as v,b as f,x as q,y as B}from"./app-a9c22e82.js";import{Q as _,a as Q}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-b69e3ed2.js";import{Q as b}from"./QTable-0e41b0f2.js";import{Q as R}from"./QForm-332245d0.js";import{m as H,f as I}from"./options-4b88285e.js";const T=v("div",{class:"text-h6"},"Pencarian Piutang",-1),U={class:"q-gutter-md"},L=D({__name:"PiutangFilterDialog",props:{options:{},data:{}},emits:[...p.emits],setup(S){const s=S,{dialogRef:x,onDialogOK:C,onDialogCancel:V,onDialogHide:h}=p(),u=c(s.options.pic),r=c(s.options.penggunaJasa);function w(i,t){t(()=>{u.value=H(i,s.options.pic,["id","name"])})}function y(i,t){t(()=>{r.value=I(i,s.options.penggunaJasa)})}const n=j({piutang_pic:null,piutang_pengguna_jasa:null});function F(){n.transform(i=>({...i,piutang_query:!0})).get(s.data.route,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{C()}})}return(i,t)=>(k(),J(N,{ref_key:"dialogRef",ref:x,onHide:o(h)},{default:a(()=>[e(B,{style:{width:"400px","max-width":"80vw"}},{default:a(()=>[e(d,{class:"row items-center q-pb-none"},{default:a(()=>[T,e(P),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:o(V)},null,8,["onClick"])]),_:1}),e(m),e(R,{onSubmit:O(F,["prevent"])},{default:a(()=>[e(d,{class:"scroll"},{default:a(()=>[v("div",U,[e(b,{outlined:"",clearable:"","use-input":"","emit-value":"","map-options":"","input-debounce":"500",label:"Penanggung Jawab (PIC)",modelValue:o(n).piutang_pic,"onUpdate:modelValue":t[0]||(t[0]=l=>o(n).piutang_pic=l),"option-value":"id","option-label":"name",options:u.value,onFilter:w},{"no-option":a(()=>[e(_,null,{default:a(()=>[e(Q,{class:"text-grey"},{default:a(()=>[f(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),e(b,{outlined:"",clearable:"","use-input":"","input-debounce":"500",label:"Pengguna jasa",modelValue:o(n).piutang_pengguna_jasa,"onUpdate:modelValue":t[1]||(t[1]=l=>o(n).piutang_pengguna_jasa=l),options:r.value,onFilter:y},{"no-option":a(()=>[e(_,null,{default:a(()=>[e(Q,{class:"text-grey"},{default:a(()=>[f(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),_:1}),e(m),e(q,{align:"right"},{default:a(()=>[e(g,{flat:"",type:"submit",label:"Search",color:"primary",loading:o(n).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}});export{L as _};
