import{d as C,T as y,e as x,c as i,h as t,g as r,u as a,i as B,o as u,a as s,m,F as P,s as M,t as f,q as S,n as U,j as $}from"./app-75a3a99f.js";import{u as k}from"./Modal.vue_vue_type_style_index_0_scoped_fdb70d85_lang-9b77fc3b.js";import{M as w,a as z,_ as R}from"./Footer-8b073701.js";import{_ as A}from"./Head.vue_vue_type_script_setup_true_lang-0b8949ad.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-8599c816.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-21506f02.js";import{_ as c}from"./Error.vue_vue_type_script_setup_true_lang-f9f51393.js";import{_ as F}from"./Select.vue_vue_type_script_setup_true_lang-f552b2ec.js";import{t as j}from"./number-6d20867b.js";const N=["onSubmit"],D={class:"w-full mb-4"},L=s("option",{value:""},"Pilih Uraian",-1),T=["value"],q={class:"w-full mb-4 grid grid-cols-2 gap-4"},E={key:0,class:"w-full mb-4"},H={id:"jumlah_penagihan",class:"mt-2"},Z=C({__name:"CreateModal",props:{id_penagihan:{},detail_rab:{}},setup(v){const p=v,g=k(),e=y({id_detail_rab:null,volume_penagihan:0,harga_satuan:0});function b(d){const o=p.detail_rab.find(l=>l.id_detail_rab==d);o?e.harga_satuan=o.harga_satuan:e.reset("harga_satuan")}function V(){e.post(route("penagihan.store",p.id_penagihan),{onSuccess:()=>{g.close()}})}return(d,o)=>{const l=x("ease-button");return u(),i("form",{onSubmit:B(V,["prevent"])},[t(a(R),{size:"2xl"},{default:r(()=>[t(a(A),{title:"Form Tambah Uraian Penagihan"}),t(a(w),null,{default:r(()=>[s("div",D,[t(a(_),{for:"id_detail_rab",value:"Uraian RAB"}),t(a(F),m({modelValue:a(e).id_detail_rab,"onUpdate:modelValue":o[0]||(o[0]=n=>a(e).id_detail_rab=n),onChange:o[1]||(o[1]=n=>b(n.target.value))},{id:"id_detail_rab",size:"lg"}),{default:r(()=>[L,(u(!0),i(P,null,M(d.detail_rab,n=>(u(),i("option",{value:n.id_detail_rab},f(n.uraian),9,T))),256))]),_:1},16,["modelValue"]),t(a(c),{class:"mt-2",message:a(e).errors.id_detail_rab},null,8,["message"])]),s("div",q,[s("div",null,[t(a(_),{for:"volume_penagihan",value:"Volume"}),t(a(h),m({modelValue:a(e).volume_penagihan,"onUpdate:modelValue":o[2]||(o[2]=n=>a(e).volume_penagihan=n)},{type:"number",id:"volume_penagihan",size:"lg",placeholder:"Volume Penagihan"}),null,16,["modelValue"]),t(a(c),{class:"mt-2",message:a(e).errors.volume_penagihan},null,8,["message"])]),s("div",null,[t(a(_),{for:"harga_satuan",value:"Harga Satuan"}),t(a(h),m({modelValue:a(e).harga_satuan,"onUpdate:modelValue":o[3]||(o[3]=n=>a(e).harga_satuan=n)},{type:"text",id:"harga_satuan",size:"lg",readonly:!0}),null,16,["modelValue"])])]),a(e).volume_penagihan>0?(u(),i("div",E,[t(a(_),{for:"jumlah_penagihan",value:"Jumlah Penagihan"}),s("p",H,f(a(j)(a(e).volume_penagihan*a(e).harga_satuan)),1)])):S("",!0)]),_:1}),t(a(z),null,{default:r(()=>[t(l,m({onClick:a(g).close},{variant:"transparent",type:"button",text:"Close"}),null,16,["onClick"]),t(l,U($({type:"submit",text:"Create",loading:a(e).processing,onLoading:()=>({text:"Creating data..."})})),null,16)]),_:1})]),_:1})],40,N)}}});export{Z as _};
