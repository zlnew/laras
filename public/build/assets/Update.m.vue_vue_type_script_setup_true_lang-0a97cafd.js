import{d as U,T as w,e as x,c as g,h as l,g as r,u as a,i as C,o as f,a as i,m as u,F as c,q as h,w as R,s as $,t as o,l as z,n as S,j as D}from"./app-803e4503.js";import{u as M}from"./Modal.vue_vue_type_style_index_0_scoped_fdb70d85_lang-e580dfec.js";import{M as A,a as B,_ as F}from"./Footer-87f34d66.js";import{_ as J}from"./Head.vue_vue_type_script_setup_true_lang-5a39fa07.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-15558a1c.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-9987f883.js";import{_}from"./Error.vue_vue_type_script_setup_true_lang-e2e0b7ba.js";import{_ as k}from"./Select.vue_vue_type_script_setup_true_lang-a0912154.js";import{_ as N}from"./SearchDropdown.vue_vue_type_script_setup_true_lang-429e5f30.js";import{t as T}from"./number-6d20867b.js";const L=["onSubmit"],q={class:"w-full mb-4"},E=i("option",{value:""},"Pilih Uraian",-1),K=["value"],G={class:"w-full mb-4"},H={class:"w-full mb-4 grid grid-cols-2 gap-4"},I=i("option",{value:""},"Pilih Jenis Pembayaran",-1),O=["value"],Q={class:"w-full mb-4"},W={class:"flex"},ta=U({__name:"Update.m",props:{detail_pengajuan_dana:{},detail_rap:{},rekening:{}},setup(v){const t=v,j=M(),n=w({uraian:t.detail_pengajuan_dana.uraian,id_detail_rap:t.detail_pengajuan_dana.id_detail_rap,id_rekening:t.detail_pengajuan_dana.id_rekening,jenis_pembayaran:t.detail_pengajuan_dana.jenis_pembayaran,jumlah_pengajuan:t.detail_pengajuan_dana.jumlah_pengajuan}),V=["Transfer","Cash"];function y(m){const s=t.detail_rap.find(p=>p.id_detail_rap==m);s?n.jumlah_pengajuan=s.harga_satuan:n.reset("jumlah_pengajuan")}function P(){n.patch(route("pengajuan_dana.update",t.detail_pengajuan_dana.id_detail_pengajuan_dana),{onSuccess:()=>{j.close()}})}return(m,s)=>{const p=x("ease-button");return f(),g("form",{onSubmit:C(P,["prevent"])},[l(a(F),{size:"2xl"},{default:r(()=>[l(a(J),{title:"Form Ubah Uraian Pengajuan dana"}),l(a(A),null,{default:r(()=>[i("div",q,[l(a(d),{for:"id_detail_rap",value:"Uraian RAP"}),l(a(k),u({modelValue:a(n).id_detail_rap,"onUpdate:modelValue":s[0]||(s[0]=e=>a(n).id_detail_rap=e),onChange:s[1]||(s[1]=e=>y(e.target.value))},{id:"id_detail_rap",size:"lg"}),{default:r(()=>[E,(f(!0),g(c,null,h(m.detail_rap,e=>(f(),g("option",{value:e.id_detail_rap},o(e.uraian),9,K))),256))]),_:1},16,["modelValue"]),l(a(_),{class:"mt-2",message:a(n).errors.id_detail_rap},null,8,["message"])]),i("div",G,[l(a(d),{for:"uraian",value:"Uraian Pengajuan Dana"}),l(a(b),u({modelValue:a(n).uraian,"onUpdate:modelValue":s[2]||(s[2]=e=>a(n).uraian=e)},{type:"text",id:"uraian",size:"lg",autocomplete:"off",placeholder:"Uraian Pengajuan Dana"}),null,16,["modelValue"]),l(a(_),{class:"mt-2",message:a(n).errors.uraian},null,8,["message"])]),i("div",H,[i("div",null,[l(a(d),{for:"jenis_pembayaran",value:"Jenis Pembayaran"}),l(a(k),{modelValue:a(n).jenis_pembayaran,"onUpdate:modelValue":s[3]||(s[3]=e=>a(n).jenis_pembayaran=e),id:"jenis_pembayaran",size:"lg"},{default:r(()=>[I,(f(),g(c,null,h(V,e=>i("option",{value:e},o(e),9,O)),64))]),_:1},8,["modelValue"]),l(a(_),{class:"mt-2",message:a(n).errors.jenis_pembayaran},null,8,["message"])]),i("div",null,[l(a(d),{for:"jumlah_pengajuan",value:"Jumlah Pengajuan"}),R(i("small",{class:"ml-1"},": "+o(a(T)(a(n).jumlah_pengajuan)),513),[[$,a(n).jumlah_pengajuan]]),l(a(b),u({modelValue:a(n).jumlah_pengajuan,"onUpdate:modelValue":s[4]||(s[4]=e=>a(n).jumlah_pengajuan=e)},{type:"number",id:"jumlah_pengajuan",size:"lg",autocomplete:"off",placeholder:"Jumlah Pengajuan"}),null,16,["modelValue"]),l(a(_),{class:"mt-2",message:a(n).errors.jumlah_pengajuan},null,8,["message"])])]),i("div",Q,[l(a(d),{for:"id_rekening",value:"Rekening"}),l(a(N),u({modelValue:a(n).id_rekening,"onUpdate:modelValue":s[5]||(s[5]=e=>a(n).id_rekening=e)},{id:"id_rekening",index:"id_rekening",options:m.rekening,searchKeys:["nama_bank","nomor_rekening","nama_rekening"],placeholder:"Pilih Rekening"}),{"selected-option":r(e=>[i("div",W,[i("span",null,[i("strong",null,o(e.nama_bank),1),z(" | "+o(e.nomor_rekening)+" - "+o(e.nama_rekening),1)])])]),option:r(e=>[i("strong",null,o(e.nama_bank),1),i("p",null,o(e.nomor_rekening)+" - "+o(e.nama_rekening),1)]),_:1},16,["modelValue"]),l(a(_),{class:"mt-2",message:a(n).errors.id_rekening},null,8,["message"])])]),_:1}),l(a(B),null,{default:r(()=>[l(p,u({onClick:a(j).close},{variant:"transparent",type:"button",text:"Close"}),null,16,["onClick"]),l(p,S(D({type:"submit",text:"Update",loading:a(n).processing,onLoading:()=>({text:"Updating data..."})})),null,16)]),_:1})]),_:1})],40,L)}}});export{ta as _};
