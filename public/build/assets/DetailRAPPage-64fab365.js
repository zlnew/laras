import{i as X,d as E,e as N,f as ie,g as ue,Q as O,a as F,b as de,n as pe,_ as me,c as ce}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-601a9fc9.js";import{d as D,l as fe,j as U,o as b,e as j,a as e,C as _e,w as t,b as p,t as v,u as a,g as u,c as k,h as g,A as q,Q as A,y as ge,F as z,k as oe,s as P,T,p as K,q as Q,i as Y,v as L,x as M,D as be,E as he,m as ve,Z as ke,n as ye}from"./app-995ac512.js";import{a as I,b as _,c as we,d as Re,Q as B}from"./QTable-c8ac225f.js";import{Q as Z}from"./QTooltip-e29014a4.js";import{u as J}from"./use-quasar-5794ceca.js";import{a as x,t as S}from"./money-3074a8fc.js";import{u as $,Q as W}from"./use-dialog-plugin-component-e6d16b32.js";import{Q as Ce}from"./QFile-424d154d.js";import{Q as ee}from"./QForm-d4e0fa4d.js";import{m as re,f as se}from"./options-4b88285e.js";import{Q as te,a as Ve}from"./QFab-3fc8e8ac.js";import{Q as le,_ as xe}from"./ModuleTopSection.vue_vue_type_script_setup_true_lang-ee6eaebf.js";import"./QImg-4e5f03b9.js";import"./ProyekDeleteDialog.vue_vue_type_script_setup_true_lang-5c96c8ec.js";const Se={class:"q-pa-md"},Ae={class:"q-gutter-sm"},Pe={class:"text-caption"},Qe=D({__name:"RAPItemTable",props:{rows:{},data:{},formOptions:{}},setup(y){const n=y,m=fe(()=>{const f=n.rows.reduce((G,H)=>G+x(H.harga_satuan)*x(H.volume),0),d=n.data.detailRab.reduce((G,H)=>G+x(H.harga_satuan)*x(H.volume),0),r=x(n.data.rab.additional_tax)/100*d,l=d-r,ae=l-f,ne=ae/l*100;return{rap:f,netto:l,laba:ae,labaPercentage:ne}}),s=J();function R(){s.dialog({component:qe,componentProps:{id_rap:n.data.rap.id_rap}}).onOk(f=>{s.notify({type:f.type,message:f.message,position:"top"})})}function w(){s.dialog({component:Ke,componentProps:{rap:n.data.rap,options:n.formOptions}}).onOk(f=>{s.notify({type:f.type,message:f.message,position:"top"})})}function i(f){s.dialog({component:aa,componentProps:{detailRap:f,options:n.formOptions}}).onOk(d=>{s.notify({type:d.type,message:d.message,position:"top"})})}function C(f){s.dialog({component:ra,componentProps:{id_detail_rap:f}}).onOk(d=>{s.notify({type:d.type,message:d.message,position:"top"})})}const c=[{name:"index",label:"#",field:"index"},{name:"uraian",label:"Uraian",field:"uraian",align:"left",sortable:!0},{name:"status_uraian",label:"Status",field:"status_uraian",align:"left",sortable:!0},{name:"nama_satuan",label:"Satuan",field:"nama_satuan",align:"left",sortable:!0},{name:"harga_satuan",label:"Harga Satuan",field:"harga_satuan",align:"right",sortable:!0},{name:"volume",label:"Volume",field:"volume",align:"left",sortable:!0},{name:"total_harga",label:"Total Harga",field:"",align:"right",sortable:!0},{name:"keterangan",label:"Ket",field:"keterangan",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}],h=U(!1);function V(){h.value=!h.value}const o=U("");return(f,d)=>(b(),j("div",Se,[e(we,{flat:"",bordered:"","row-key":"id_detail_rap",rows:f.rows,columns:c,"rows-per-page-options":[10,15,20,25,50,0],fullscreen:h.value,filter:o.value},_e({"top-left":t(()=>[u("div",Ae,[a(X)()||a(E)("create & modify rap")&&a(N)(f.data.rap)?(b(),k(g,{key:0,"no-caps":"",label:"Tambah Uraian RAP",icon:"add",color:"primary",onClick:w})):q("",!0),a(X)()||a(E)("create & modify rap")&&a(N)(f.data.rab)?(b(),k(g,{key:1,"no-caps":"",label:"Import dari CSV/XLS",icon:"upload_file",color:"green-8",onClick:R})):q("",!0)])]),"top-right":t(()=>[e(A,{dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),placeholder:"Search"},{append:t(()=>[e(ge,{name:"search"})]),_:1},8,["modelValue"]),e(g,{flat:"",dense:"",icon:h.value?"fullscreen_exit":"fullscreen",onClick:V,class:"q-ml-md"},null,8,["icon"])]),header:t(r=>[e(I,{props:r},{default:t(()=>[(b(!0),j(z,null,oe(r.cols,l=>(b(),k(Re,{key:l.name,props:r,style:{"font-weight":"bold"}},{default:t(()=>[p(v(l.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:t(r=>[e(I,{props:r},{default:t(()=>[e(_,{key:"index",props:r},{default:t(()=>[p(v(++r.rowIndex),1)]),_:2},1032,["props"]),e(_,{key:"uraian",props:r},{default:t(()=>[p(v(r.row.uraian),1)]),_:2},1032,["props"]),e(_,{key:"status_uraian",props:r},{default:t(()=>[p(v(r.row.status_uraian),1)]),_:2},1032,["props"]),e(_,{key:"nama_satuan",props:r},{default:t(()=>[p(v(r.row.nama_satuan),1)]),_:2},1032,["props"]),e(_,{key:"harga_satuan",props:r},{default:t(()=>[p(v(a(S)(r.row.harga_satuan)),1)]),_:2},1032,["props"]),e(_,{key:"volume",props:r},{default:t(()=>[p(v(r.row.volume),1)]),_:2},1032,["props"]),e(_,{key:"total_harga",props:r},{default:t(()=>[p(v(a(S)(r.row.harga_satuan*r.row.volume)),1)]),_:2},1032,["props"]),e(_,{key:"keterangan",props:r},{default:t(()=>[p(v(r.row.keterangan),1)]),_:2},1032,["props"]),e(_,{key:"actions",props:r},{default:t(()=>[a(X)()||a(E)("create & modify rap")&&a(N)(f.data.rap)?(b(),k(g,{key:0,dense:"",flat:"",color:"blue-grey",icon:"more_vert"},{default:t(()=>[e(ie,{"auto-close":"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[e(ue,{dense:"",style:{"min-width":"100px"}},{default:t(()=>[e(O,{clickable:""},{default:t(()=>[e(F,{onClick:l=>i(r.row)},{default:t(()=>[p(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024),e(P),e(O,{clickable:""},{default:t(()=>[e(F,{class:"text-red",onClick:l=>C(r.row.id_detail_rap)},{default:t(()=>[p(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(b(),k(g,{key:1,dense:"",flat:"",color:"grey-6",icon:"block"},{default:t(()=>[e(Z,null,{default:t(()=>[p("Required permission")]),_:1})]),_:1}))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:2},[f.rows.length?{name:"bottom-row",fn:t(()=>[e(I,{"no-hover":""},{default:t(()=>[e(_,{colspan:"5",style:{border:"none"}}),e(_,{class:"text-right"},{default:t(()=>[p(" Total RAP ")]),_:1}),e(_,{class:"text-right text-weight-bold"},{default:t(()=>[p(v(a(S)(m.value.rap)),1)]),_:1}),e(_,{colspan:"2",style:{border:"none"}})]),_:1}),e(I,{"no-hover":""},{default:t(()=>[e(_,{colspan:"5",style:{border:"none"}}),e(_,{class:"text-right"},{default:t(()=>[p(" Nilai Netto ")]),_:1}),e(_,{class:"text-right text-weight-bold"},{default:t(()=>[p(v(a(S)(m.value.netto)),1)]),_:1}),e(_,{colspan:"2",style:{border:"none"}})]),_:1}),e(I,{"no-hover":""},{default:t(()=>[e(_,{colspan:"5",style:{border:"none"}}),e(_,{class:"text-right"},{default:t(()=>[p(" Proyeksi Laba ")]),_:1}),e(_,{class:"text-right text-weight-bold"},{default:t(()=>[p(v(a(S)(m.value.laba))+" ",1),u("span",Pe," ("+v(m.value.labaPercentage.toFixed(2)+"%")+") ",1)]),_:1}),e(_,{colspan:"2",style:{border:"none"}})]),_:1})]),key:"0"}:void 0]),1032,["rows","fullscreen","filter"])]))}}),$e=u("div",{class:"text-h6"},"Import Uraian RAP",-1),De={class:"q-gutter-md"},qe=D({__name:"RAPItemImportDialog",props:{id_rap:{}},emits:[...$.emits],setup(y){const n=y,{dialogRef:m,onDialogOK:s,onDialogCancel:R,onDialogHide:w}=$(),i=T({file:null});function C(){i.post(route("detail_rap.import",n.id_rap),{onSuccess:c=>{s({type:"positive",message:c.props.flash.success})}})}return(c,h)=>(b(),k(K,{ref_key:"dialogRef",ref:m,"no-backdrop-dismiss":!0,onHide:a(w)},{default:t(()=>[e(M,{style:{width:"500px","max-width":"80vw"}},{default:t(()=>[e(Q,{class:"row items-center q-pb-none"},{default:t(()=>[$e,e(W),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(R)},null,8,["onClick"])]),_:1}),e(P),e(ee,{onSubmit:Y(C,["prevent"])},{default:t(()=>[e(Q,{class:"scroll"},{default:t(()=>[u("div",De,[e(g,{color:"green-8",icon:"download",label:"Template",href:"/storage/uploads/template_uraian_rap.xlsx"},{default:t(()=>[e(Z,null,{default:t(()=>[p("Download template CSV/XLS")]),_:1})]),_:1}),e(Ce,{outlined:"",counter:"","hide-bottom-space":"",modelValue:a(i).file,"onUpdate:modelValue":h[0]||(h[0]=V=>a(i).file=V),label:"Pick file",hint:"Format: csv, xls, xlsx",error:!!a(i).errors.file,"error-message":a(i).errors.file},null,8,["modelValue","error","error-message"])])]),_:1}),e(P),e(L,{align:"right"},{default:t(()=>[a(i).hasErrors?(b(),k(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:h[1]||(h[1]=V=>a(i).clearErrors())})):q("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:h[2]||(h[2]=V=>a(i).reset())}),e(g,{flat:"",type:"submit",label:"Import",color:"primary",loading:a(i).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),Oe=u("div",{class:"text-h6"},"Tambah Uraian RAP",-1),Fe={class:"q-gutter-md"},Ue={class:"row"},Te={class:"col-12 col-md-6 q-pr-sm"},He={class:"col-12 col-md-6 q-pl-sm"},Ie={class:"row"},Ee={class:"col-12 col-md-6 q-pr-sm"},Ne={class:"col-12 col-md-6 q-pl-sm text-right"},je=u("div",{class:"text-secondary text-caption"},"Total Harga",-1),Be={class:"text-weight-bold text-subtitle1"},Ke=D({__name:"RAPItemCreateDialog",props:{rap:{},options:{}},emits:[...$.emits],setup(y){const n=y,{dialogRef:m,onDialogOK:s,onDialogCancel:R,onDialogHide:w}=$(),i=["Gaji","Sewa","Beli","Subkon/Vendor"],C=U(i),c=U(n.options.satuan);function h(d,r){r(()=>{c.value=re(d,n.options.satuan,["nama_satuan"])})}function V(d,r){r(()=>{C.value=se(d,i)})}const o=T({uraian:null,status_uraian:null,harga_satuan:0,volume:0,keterangan:null,id_satuan:null});function f(){o.post(route("detail_rap.store",n.rap.id_rap),{onSuccess:d=>{s({type:"positive",message:d.props.flash.success})}})}return(d,r)=>(b(),k(K,{ref_key:"dialogRef",ref:m,"no-backdrop-dismiss":!0,onHide:a(w)},{default:t(()=>[e(M,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(Q,{class:"row items-center q-pb-none"},{default:t(()=>[Oe,e(W),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(R)},null,8,["onClick"])]),_:1}),e(P),e(ee,{onSubmit:Y(f,["prevent"])},{default:t(()=>[e(Q,{class:"scroll"},{default:t(()=>[u("div",Fe,[e(A,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(o).uraian,"onUpdate:modelValue":r[0]||(r[0]=l=>a(o).uraian=l),error:!!a(o).errors.uraian,"error-message":a(o).errors.uraian},null,8,["modelValue","error","error-message"]),e(B,{outlined:"","use-input":"","hide-bottom-space":"","input-debounce":"500",label:"Status",modelValue:a(o).status_uraian,"onUpdate:modelValue":r[1]||(r[1]=l=>a(o).status_uraian=l),options:C.value,error:!!a(o).errors.status_uraian,"error-message":a(o).errors.status_uraian,onFilter:V},{"no-option":t(()=>[e(O,null,{default:t(()=>[e(F,{class:"text-grey"},{default:t(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(B,{outlined:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Satuan",modelValue:a(o).id_satuan,"onUpdate:modelValue":r[2]||(r[2]=l=>a(o).id_satuan=l),"option-value":"id_satuan","option-label":"nama_satuan",options:c.value,error:!!a(o).errors.id_satuan,"error-message":a(o).errors.id_satuan,onFilter:h},{"no-option":t(()=>[e(O,null,{default:t(()=>[e(F,{class:"text-grey"},{default:t(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),u("div",Ue,[u("div",Te,[e(A,{outlined:"","hide-bottom-space":"",label:"Harga Satuan",modelValue:a(o).harga_satuan,"onUpdate:modelValue":r[3]||(r[3]=l=>a(o).harga_satuan=l),hint:a(S)(a(o).harga_satuan),"hide-hint":a(o).harga_satuan<1,error:!!a(o).errors.harga_satuan,"error-message":a(o).errors.harga_satuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),u("div",He,[e(A,{outlined:"","hide-bottom-space":"",label:"Volume",modelValue:a(o).volume,"onUpdate:modelValue":r[4]||(r[4]=l=>a(o).volume=l),error:!!a(o).errors.volume,"error-message":a(o).errors.volume,"input-class":"text-right"},null,8,["modelValue","error","error-message"])])]),u("div",Ie,[u("div",Ee,[e(A,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Keterangan",modelValue:a(o).keterangan,"onUpdate:modelValue":r[5]||(r[5]=l=>a(o).keterangan=l),error:!!a(o).errors.keterangan,"error-message":a(o).errors.keterangan},null,8,["modelValue","error","error-message"])]),u("div",Ne,[je,u("div",Be,v(a(S)(a(o).harga_satuan*a(o).volume)),1)])])])]),_:1}),e(P),e(L,{align:"right"},{default:t(()=>[a(o).hasErrors?(b(),k(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:r[6]||(r[6]=l=>a(o).clearErrors())})):q("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:r[7]||(r[7]=l=>a(o).reset())}),e(g,{flat:"",type:"submit",label:"Submit",color:"primary",loading:a(o).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),Le=u("div",{class:"text-h6"},"Edit Uraian RAP",-1),Me={class:"q-gutter-md"},Ge={class:"row"},Xe={class:"col-12 col-md-6 q-pr-sm"},ze={class:"col-12 col-md-6 q-pl-sm"},Ye={class:"row"},Ze={class:"col-12 col-md-6 q-pr-sm"},Je={class:"col-12 col-md-6 q-pl-sm text-right"},We=u("div",{class:"text-secondary text-caption"},"Total Harga",-1),ea={class:"text-weight-bold text-subtitle1"},aa=D({__name:"RAPItemEditDialog",props:{detailRap:{},options:{}},emits:[...$.emits],setup(y){const n=y,{dialogRef:m,onDialogOK:s,onDialogCancel:R,onDialogHide:w}=$(),i=["Gaji","Sewa","Beli","Subkon/Vendor"],C=U(i),c=U(n.options.satuan);function h(d,r){r(()=>{c.value=re(d,n.options.satuan,["nama_satuan"])})}function V(d,r){r(()=>{C.value=se(d,i)})}const o=T({uraian:n.detailRap.uraian,status_uraian:n.detailRap.status_uraian,harga_satuan:n.detailRap.harga_satuan,volume:n.detailRap.volume,keterangan:n.detailRap.keterangan,id_satuan:n.detailRap.id_satuan});function f(){o.patch(route("detail_rap.update",n.detailRap.id_detail_rap),{onSuccess:d=>{s({type:"positive",message:d.props.flash.success})}})}return(d,r)=>(b(),k(K,{ref_key:"dialogRef",ref:m,"no-backdrop-dismiss":!0,onHide:a(w)},{default:t(()=>[e(M,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(Q,{class:"row items-center q-pb-none"},{default:t(()=>[Le,e(W),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(R)},null,8,["onClick"])]),_:1}),e(P),e(ee,{onSubmit:Y(f,["prevent"])},{default:t(()=>[e(Q,{class:"scroll"},{default:t(()=>[u("div",Me,[e(A,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(o).uraian,"onUpdate:modelValue":r[0]||(r[0]=l=>a(o).uraian=l),error:!!a(o).errors.uraian,"error-message":a(o).errors.uraian},null,8,["modelValue","error","error-message"]),e(B,{outlined:"",clearable:"","use-input":"","hide-bottom-space":"","input-debounce":"500",label:"Status",modelValue:a(o).status_uraian,"onUpdate:modelValue":r[1]||(r[1]=l=>a(o).status_uraian=l),options:C.value,error:!!a(o).errors.status_uraian,"error-message":a(o).errors.status_uraian,onFilter:V},{"no-option":t(()=>[e(O,null,{default:t(()=>[e(F,{class:"text-grey"},{default:t(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(B,{outlined:"",clearable:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Satuan",modelValue:a(o).id_satuan,"onUpdate:modelValue":r[2]||(r[2]=l=>a(o).id_satuan=l),"option-value":"id_satuan","option-label":"nama_satuan",options:c.value,error:!!a(o).errors.id_satuan,"error-message":a(o).errors.id_satuan,onFilter:h},{"no-option":t(()=>[e(O,null,{default:t(()=>[e(F,{class:"text-grey"},{default:t(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),u("div",Ge,[u("div",Xe,[e(A,{outlined:"","hide-bottom-space":"",label:"Harga Satuan",modelValue:a(o).harga_satuan,"onUpdate:modelValue":r[3]||(r[3]=l=>a(o).harga_satuan=l),hint:a(S)(a(x)(a(o).harga_satuan)),"hide-hint":a(x)(a(o).harga_satuan)<1,error:!!a(o).errors.harga_satuan,"error-message":a(o).errors.harga_satuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),u("div",ze,[e(A,{outlined:"","hide-bottom-space":"",label:"Volume",modelValue:a(o).volume,"onUpdate:modelValue":r[4]||(r[4]=l=>a(o).volume=l),error:!!a(o).errors.volume,"error-message":a(o).errors.volume,"input-class":"text-right"},null,8,["modelValue","error","error-message"])])]),u("div",Ye,[u("div",Ze,[e(A,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Keterangan",modelValue:a(o).keterangan,"onUpdate:modelValue":r[5]||(r[5]=l=>a(o).keterangan=l),error:!!a(o).errors.keterangan,"error-message":a(o).errors.keterangan},null,8,["modelValue","error","error-message"])]),u("div",Je,[We,u("div",ea,v(a(S)(a(x)(a(o).harga_satuan)*a(x)(a(o).volume))),1)])])])]),_:1}),e(P),e(L,{align:"right"},{default:t(()=>[a(o).hasErrors?(b(),k(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:r[6]||(r[6]=l=>a(o).clearErrors())})):q("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:r[7]||(r[7]=l=>a(o).reset())}),e(g,{flat:"",type:"submit",label:"Update",color:"primary",loading:a(o).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),ta=u("div",{class:"text-h6"},"Delete Confirmation",-1),oa=u("span",{class:"q-ml-sm"},"Are you sure want to delete this data?",-1),ra=D({__name:"RAPItemDeleteDialog",props:{id_detail_rap:{}},emits:[...$.emits],setup(y){const n=y,{dialogRef:m,onDialogOK:s,onDialogCancel:R,onDialogHide:w}=$(),i=T({id_detail_rap:n.id_detail_rap});function C(){i.delete(route("detail_rap.destroy",n.id_detail_rap),{onSuccess:c=>{s({type:"positive",message:c.props.flash.success})}})}return(c,h)=>(b(),k(K,{ref_key:"dialogRef",ref:m,"no-backdrop-dismiss":!0,onHide:a(w)},{default:t(()=>[e(M,null,{default:t(()=>[e(Q,{class:"row items-center q-pb-none"},{default:t(()=>[ta]),_:1}),e(P),e(Q,{class:"row items-center"},{default:t(()=>[e(be,{icon:"dangerous",color:"red","text-color":"white"}),oa]),_:1}),e(L,{align:"right"},{default:t(()=>[e(g,{flat:"",label:"Cancel",color:"primary",onClick:a(R)},null,8,["onClick"]),e(g,{flat:"",label:"Yes, delete it",color:"red",onClick:C})]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),sa=D({__name:"RAPApprovalForm",props:{data:{}},setup(y){const n=y,m=J(),s=T({catatan:""});function R(){s.post(route("rap.approve",n.data.id_rap),{onSuccess:c=>{m.notify({type:"positive",message:c.props.flash.success,position:"top"})}})}function w(){s.post(route("rap.reject",n.data.id_rap),{onSuccess:c=>{m.notify({type:"positive",message:c.props.flash.success,position:"top"})}})}function i(){m.dialog({title:"Approval Confirmation",message:"Are you sure want to perform this action?",prompt:{outlined:!0,autogrow:!0,model:"",type:"text",placeholder:"Tambahkan Catatan"},color:"positive",cancel:!0,persistent:!0}).onOk(c=>{s.catatan=c,R()})}function C(){m.dialog({title:"Rejection Confirmation",message:"Are you sure want to perform this action?",prompt:{outlined:!0,autogrow:!0,model:"",type:"text",placeholder:"Tambahkan Catatan"},color:"negative",cancel:!0,persistent:!0}).onOk(c=>{s.catatan=c,w()})}return(c,h)=>(b(),k(le,{position:"bottom-right",offset:[18,18]},{default:t(()=>[e(Ve,{color:"primary",icon:"keyboard_arrow_left",direction:"left"},{label:t(({opened:V})=>[u("div",{class:he({"example-fab-animate--hover":V!==!0})},v(V!==!0?"Approval":"Close"),3)]),default:t(()=>[e(te,{color:"green-5",label:"Setujui",icon:"check",onClick:i}),e(te,{color:"red",label:"Tolak",icon:"clear",onClick:C})]),_:1})]),_:1}))}}),la=D({__name:"RAPSubmissionForm",props:{data:{}},setup(y){const n=y,m=J(),s=T({catatan:""});function R(){s.post(route("rap.submit",n.data.id_rap),{onSuccess:i=>{m.notify({type:"positive",message:i.props.flash.success,position:"top"})}})}function w(){m.dialog({title:"Submission Confirmation",message:"Are you sure want to submit this data?",prompt:{outlined:!0,autogrow:!0,model:"",type:"text",placeholder:"Tambahkan Catatan"},color:"primary",cancel:!0,persistent:!0}).onOk(i=>{s.catatan=i,R()})}return(i,C)=>(b(),k(le,{position:"bottom-right",offset:[18,18]},{default:t(()=>[e(g,{rounded:"",color:"primary",label:"Submit","icon-right":"check",onClick:w,class:"q-pa-md"},{default:t(()=>[e(Z,null,{default:t(()=>[p("Click to submit")]),_:1})]),_:1})]),_:1}))}}),ya=D({__name:"DetailRAPPage",props:{rap:{},detailRap:{},rab:{},detailRab:{},formOptions:{},timeline:{}},setup(y){const n=y,m=[{label:"Main",url:"#"},{label:"RAP",url:route("rap")},{label:n.rap.nama_proyek,url:"#"}];return(s,R)=>{const w=ve("in-link");return b(),j(z,null,[e(a(ke),{title:"RAPP"}),e(me,null,{breadcrumbs:t(()=>[e(de,{align:"left"},{default:t(()=>[(b(),j(z,null,oe(m,i=>ye(e(ce,{key:i.label,label:i.label},null,8,["label"]),[[w,i.url]])),64))]),_:1})]),default:t(()=>[e(xe,{title:"RAP","timeline-title":"Timeline Pengajuan RAP",data:{proyek:s.rap,status:s.rap.status_rap,timeline:s.timeline}},null,8,["data"]),e(a(Qe),{rows:s.detailRap,data:{rap:s.rap,rab:s.rab,detailRab:s.detailRab},"form-options":s.formOptions},null,8,["rows","data","form-options"]),a(E)("create & modify rap")&&a(N)(s.rap)&&s.detailRap.length?(b(),k(a(la),{key:0,data:{id_rap:s.rap.id_rap}},null,8,["data"])):q("",!0),a(E)("approve rap")&&a(pe)(s.rap)?(b(),k(a(sa),{key:1,data:{id_rap:s.rap.id_rap}},null,8,["data"])):q("",!0)]),_:1})],64)}}});export{ya as default};
