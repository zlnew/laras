import{g as sa,s as ua,c as Qa,b as va,d as ba,e as ee,f as ae,Q as La,_ as Oa,a as Ua}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-2d866a3c.js";import{s as Ba,t as Ne,v as ha,x as Ve,y as F,z as E,A as ya,B as Ma,q as ka,R as Ha,C as B,D as je,E as Na,G as Ka,H as fe,I as Wa,J as za,K as Ja,L as Re,M as Ke,N as da,O as ke,P as Xa,S as Ya,U as Ga,V as Ae,W as Za,X as ye,Y as et,_ as at,$ as Se,a0 as We,a1 as ca,a2 as ze,a3 as tt,a4 as nt,a5 as lt,a6 as ot,a7 as rt,a8 as it,a9 as st,d as G,o as D,c as A,aa as ut,w as t,a as e,b as w,ab as q,u as n,ac as te,g as V,h as $,Q as le,e as he,p as Fe,F as we,f as pa,k as W,T as se,ad as me,j as N,i as Ie,ae as ja,af as wa,l as ge,m as ie,ag as Ca,ah as dt,n as ct,Z as pt}from"./app-739fb669.js";import{e as ft}from"./QImg-454d5644.js";import{r as mt,u as Pe,Q as S,a as re,b as Xe,c as Ye,d as X,e as De,f as be}from"./use-dialog-plugin-component-50d342aa.js";import{t as Z,i as Je,a as qe,c as pe,b as Ce,Q as Ee,f as gt,d as _t,e as vt}from"./ProyekDeleteDialog.vue_vue_type_script_setup_true_lang-db61d37e.js";import{Q as Qe}from"./QForm-92572154.js";import{m as $e,f as Pa}from"./options-964f32b0.js";import{Q as Ge,a as fa,b as bt,c as Da,_ as ht}from"./QFile-8b049208.js";import"./_plugin-vue_export-helper-c27b6911.js";let yt=0;const kt=["click","keydown"],jt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${yt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function wt(a,i,f,p){const s=Ba(ha,Ne);if(s===Ne)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ne;const{proxy:l}=Ve(),o=F(null),b=F(null),v=F(null),k=E(()=>a.disable===!0||a.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},a.ripple===!0?{}:a.ripple)),m=E(()=>s.currentModel.value===a.name),T=E(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(m.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(a.icon&&a.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(a.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(a.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(p!==void 0?p.linkClass.value:"")),g=E(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(a.contentClass!==void 0?` ${a.contentClass}`:"")),r=E(()=>a.disable===!0||s.hasFocus.value===!0||m.value===!1&&s.hasActiveTab.value===!0?-1:a.tabindex||0);function _(h,Q){if(Q!==!0&&o.value!==null&&o.value.focus(),a.disable===!0){p!==void 0&&p.hasRouterLink.value===!0&&je(h);return}if(p===void 0){s.updateModel({name:a.name}),f("click",h);return}if(p.hasRouterLink.value===!0){const z=(M={})=>{let H;const Y=M.to===void 0||za(M.to,a.to)===!0?s.avoidRouteWatcher=Ja():null;return p.navigateToRouterLink(h,{...M,returnRouterError:!0}).catch(ne=>{H=ne}).then(ne=>{if(Y===s.avoidRouteWatcher&&(s.avoidRouteWatcher=!1,H===void 0&&(ne===void 0||ne.message.startsWith("Avoided redundant navigation")===!0)&&s.updateModel({name:a.name})),M.returnRouterError===!0)return H!==void 0?Promise.reject(H):ne})};f("click",h,z),h.defaultPrevented!==!0&&z();return}f("click",h)}function C(h){Na(h,[13,32])?_(h,!0):Ka(h)!==!0&&h.keyCode>=35&&h.keyCode<=40&&h.altKey!==!0&&h.metaKey!==!0&&s.onKbdNavigate(h.keyCode,l.$el)===!0&&je(h),f("keydown",h)}function u(){const h=s.tabProps.value.narrowIndicator,Q=[],z=B("div",{ref:v,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});a.icon!==void 0&&Q.push(B(fe,{class:"q-tab__icon",name:a.icon})),a.label!==void 0&&Q.push(B("div",{class:"q-tab__label"},a.label)),a.alert!==!1&&Q.push(a.alertIcon!==void 0?B(fe,{class:"q-tab__alert-icon",color:a.alert!==!0?a.alert:void 0,name:a.alertIcon}):B("div",{class:"q-tab__alert"+(a.alert!==!0?` text-${a.alert}`:"")})),h===!0&&Q.push(z);const M=[B("div",{class:"q-focus-helper",tabindex:-1,ref:o}),B("div",{class:g.value},Wa(i.default,Q))];return h===!1&&M.push(z),M}const d={name:E(()=>a.name),rootRef:b,tabIndicatorRef:v,routeData:p};ya(()=>{s.unregisterTab(d)}),Ma(()=>{s.registerTab(d)});function j(h,Q){const z={ref:b,class:T.value,tabindex:r.value,role:"tab","aria-selected":m.value===!0?"true":"false","aria-disabled":a.disable===!0?"true":void 0,onClick:_,onKeydown:C,...Q};return ka(B(h,z,u()),[[Ha,k.value]])}return{renderTab:j,$tabs:s}}const ma=Re({name:"QTab",props:jt,emits:kt,setup(a,{slots:i,emit:f}){const{renderTab:p}=wt(a,i,f);return()=>p("div")}});function Ct(a,i,f){const p=f===!0?["left","right"]:["top","bottom"];return`absolute-${i===!0?p[0]:p[1]}${a?` text-${a}`:""}`}const Pt=["left","center","right","justify"],Dt=Re({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:a=>Pt.includes(a)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(a,{slots:i,emit:f}){const{proxy:p}=Ve(),{$q:s}=p,{registerTick:l}=Ke(),{registerTick:o}=Ke(),{registerTick:b}=Ke(),{registerTimeout:v,removeTimeout:k}=da(),{registerTimeout:m,removeTimeout:T}=da(),g=F(null),r=F(null),_=F(a.modelValue),C=F(!1),u=F(!0),d=F(!1),j=F(!1),h=[],Q=F(0),z=F(!1);let M=null,H=null,Y;const ne=E(()=>({activeClass:a.activeClass,activeColor:a.activeColor,activeBgColor:a.activeBgColor,indicatorClass:Ct(a.indicatorColor,a.switchIndicator,a.vertical),narrowIndicator:a.narrowIndicator,inlineLabel:a.inlineLabel,noCaps:a.noCaps})),Le=E(()=>{const c=Q.value,y=_.value;for(let P=0;P<c;P++)if(h[P].name.value===y)return!0;return!1}),Oe=E(()=>`q-tabs__content--align-${C.value===!0?"left":j.value===!0?"justify":a.align}`),Ue=E(()=>`q-tabs row no-wrap items-center q-tabs--${C.value===!0?"":"not-"}scrollable q-tabs--${a.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${a.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${a.mobileArrows===!0?"":"out"}-arrows`+(a.dense===!0?" q-tabs--dense":"")+(a.shrink===!0?" col-shrink":"")+(a.stretch===!0?" self-stretch":"")),x=E(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Oe.value+(a.contentClass!==void 0?` ${a.contentClass}`:"")),L=E(()=>a.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),J=E(()=>a.vertical!==!0&&s.lang.rtl===!0),ue=E(()=>mt===!1&&J.value===!0);ke(J,ve),ke(()=>a.modelValue,c=>{Be({name:c,setCurrent:!0,skipEmit:!0})}),ke(()=>a.outsideArrows,Te);function Be({name:c,setCurrent:y,skipEmit:P}){_.value!==c&&(P!==!0&&a["onUpdate:modelValue"]!==void 0&&f("update:modelValue",c),(y===!0||a["onUpdate:modelValue"]===void 0)&&(Ta(_.value,c),_.value=c))}function Te(){l(()=>{Ze({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function Ze(c){if(L.value===void 0||r.value===null)return;const y=c[L.value.container],P=Math.min(r.value[L.value.scroll],Array.prototype.reduce.call(r.value.children,(U,I)=>U+(I[L.value.content]||0),0)),O=y>0&&P>y;C.value=O,O===!0&&o(ve),j.value=y<parseInt(a.breakpoint,10)}function Ta(c,y){const P=c!=null&&c!==""?h.find(U=>U.name.value===c):null,O=y!=null&&y!==""?h.find(U=>U.name.value===y):null;if(P&&O){const U=P.tabIndicatorRef.value,I=O.tabIndicatorRef.value;M!==null&&(clearTimeout(M),M=null),U.style.transition="none",U.style.transform="none",I.style.transition="none",I.style.transform="none";const R=U.getBoundingClientRect(),K=I.getBoundingClientRect();I.style.transform=a.vertical===!0?`translate3d(0,${R.top-K.top}px,0) scale3d(1,${K.height?R.height/K.height:1},1)`:`translate3d(${R.left-K.left}px,0,0) scale3d(${K.width?R.width/K.width:1},1,1)`,b(()=>{M=setTimeout(()=>{M=null,I.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",I.style.transform="none"},70)})}O&&C.value===!0&&_e(O.rootRef.value)}function _e(c){const{left:y,width:P,top:O,height:U}=r.value.getBoundingClientRect(),I=c.getBoundingClientRect();let R=a.vertical===!0?I.top-O:I.left-y;if(R<0){r.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(R),ve();return}R+=a.vertical===!0?I.height-U:I.width-P,R>0&&(r.value[a.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(R),ve())}function ve(){const c=r.value;if(c===null)return;const y=c.getBoundingClientRect(),P=a.vertical===!0?c.scrollTop:Math.abs(c.scrollLeft);J.value===!0?(u.value=Math.ceil(P+y.width)<c.scrollWidth-1,d.value=P>0):(u.value=P>0,d.value=a.vertical===!0?Math.ceil(P+y.height)<c.scrollHeight:Math.ceil(P+y.width)<c.scrollWidth)}function ea(c){H!==null&&clearInterval(H),H=setInterval(()=>{qa(c)===!0&&de()},5)}function aa(){ea(ue.value===!0?Number.MAX_SAFE_INTEGER:0)}function ta(){ea(ue.value===!0?0:Number.MAX_SAFE_INTEGER)}function de(){H!==null&&(clearInterval(H),H=null)}function xa(c,y){const P=Array.prototype.filter.call(r.value.children,K=>K===y||K.matches&&K.matches(".q-tab.q-focusable")===!0),O=P.length;if(O===0)return;if(c===36)return _e(P[0]),P[0].focus(),!0;if(c===35)return _e(P[O-1]),P[O-1].focus(),!0;const U=c===(a.vertical===!0?38:37),I=c===(a.vertical===!0?40:39),R=U===!0?-1:I===!0?1:void 0;if(R!==void 0){const K=J.value===!0?-1:1,oe=P.indexOf(y)+R*K;return oe>=0&&oe<O&&(_e(P[oe]),P[oe].focus({preventScroll:!0})),!0}}const Sa=E(()=>ue.value===!0?{get:c=>Math.abs(c.scrollLeft),set:(c,y)=>{c.scrollLeft=-y}}:a.vertical===!0?{get:c=>c.scrollTop,set:(c,y)=>{c.scrollTop=y}}:{get:c=>c.scrollLeft,set:(c,y)=>{c.scrollLeft=y}});function qa(c){const y=r.value,{get:P,set:O}=Sa.value;let U=!1,I=P(y);const R=c<I?-1:1;return I+=R*5,I<0?(U=!0,I=0):(R===-1&&I<=c||R===1&&I>=c)&&(U=!0,I=c),O(y,I),ve(),U}function na(c,y){for(const P in c)if(c[P]!==y[P])return!1;return!0}function $a(){let c=null,y={matchedLen:0,queryDiff:9999,hrefLen:0};const P=h.filter(R=>R.routeData!==void 0&&R.routeData.hasRouterLink.value===!0),{hash:O,query:U}=p.$route,I=Object.keys(U).length;for(const R of P){const K=R.routeData.exact.value===!0;if(R.routeData[K===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:oe,query:Me,matched:Ia,href:Ea}=R.routeData.resolvedLink.value,He=Object.keys(Me).length;if(K===!0){if(oe!==O||He!==I||na(U,Me)===!1)continue;c=R.name.value;break}if(oe!==""&&oe!==O||He!==0&&na(Me,U)===!1)continue;const ce={matchedLen:Ia.length,queryDiff:I-He,hrefLen:Ea.length-oe.length};if(ce.matchedLen>y.matchedLen){c=R.name.value,y=ce;continue}else if(ce.matchedLen!==y.matchedLen)continue;if(ce.queryDiff<y.queryDiff)c=R.name.value,y=ce;else if(ce.queryDiff!==y.queryDiff)continue;ce.hrefLen>y.hrefLen&&(c=R.name.value,y=ce)}c===null&&h.some(R=>R.routeData===void 0&&R.name.value===_.value)===!0||Be({name:c,setCurrent:!0})}function Va(c){if(k(),z.value!==!0&&g.value!==null&&c.target&&typeof c.target.closest=="function"){const y=c.target.closest(".q-tab");y&&g.value.contains(y)===!0&&(z.value=!0,C.value===!0&&_e(y))}}function Ra(){v(()=>{z.value=!1},30)}function xe(){oa.avoidRouteWatcher===!1?m($a):T()}function la(){if(Y===void 0){const c=ke(()=>p.$route.fullPath,xe);Y=()=>{c(),Y=void 0}}}function Aa(c){h.push(c),Q.value++,Te(),c.routeData===void 0||p.$route===void 0?m(()=>{if(C.value===!0){const y=_.value,P=y!=null&&y!==""?h.find(O=>O.name.value===y):null;P&&_e(P.rootRef.value)}}):(la(),c.routeData.hasRouterLink.value===!0&&xe())}function Fa(c){h.splice(h.indexOf(c),1),Q.value--,Te(),Y!==void 0&&c.routeData!==void 0&&(h.every(y=>y.routeData===void 0)===!0&&Y(),xe())}const oa={currentModel:_,tabProps:ne,hasFocus:z,hasActiveTab:Le,registerTab:Aa,unregisterTab:Fa,verifyRouteModel:xe,updateModel:Be,onKbdNavigate:xa,avoidRouteWatcher:!1};Xa(ha,oa);function ra(){M!==null&&clearTimeout(M),de(),Y!==void 0&&Y()}let ia;return ya(ra),Ya(()=>{ia=Y!==void 0,ra()}),Ga(()=>{ia===!0&&la(),Te()}),()=>B("div",{ref:g,class:Ue.value,role:"tablist",onFocusin:Va,onFocusout:Ra},[B(ft,{onResize:Ze}),B("div",{ref:r,class:x.value,onScroll:ve},Ae(i.default)),B(fe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(u.value===!0?"":" q-tabs__arrow--faded"),name:a.leftIcon||s.iconSet.tabs[a.vertical===!0?"up":"left"],onMousedownPassive:aa,onTouchstartPassive:aa,onMouseupPassive:de,onMouseleavePassive:de,onTouchendPassive:de}),B(fe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(d.value===!0?"":" q-tabs__arrow--faded"),name:a.rightIcon||s.iconSet.tabs[a.vertical===!0?"down":"right"],onMousedownPassive:ta,onTouchstartPassive:ta,onMouseupPassive:de,onMouseleavePassive:de,onTouchendPassive:de})])}});function Tt(a){const i=[.06,6,50];return typeof a=="string"&&a.length&&a.split(":").forEach((f,p)=>{const s=parseFloat(f);s&&(i[p]=s)}),i}const xt=Za({name:"touch-swipe",beforeMount(a,{value:i,arg:f,modifiers:p}){if(p.mouse!==!0&&ye.has.touch!==!0)return;const s=p.mouseCapture===!0?"Capture":"",l={handler:i,sensitivity:Tt(f),direction:sa(p),noop:et,mouseStart(o){ua(o,l)&&at(o)&&(Se(l,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(o,!0))},touchStart(o){if(ua(o,l)){const b=o.target;Se(l,"temp",[[b,"touchmove","move","notPassiveCapture"],[b,"touchcancel","end","notPassiveCapture"],[b,"touchend","end","notPassiveCapture"]]),l.start(o)}},start(o,b){ye.is.firefox===!0&&We(a,!0);const v=ca(o);l.event={x:v.left,y:v.top,time:Date.now(),mouse:b===!0,dir:!1}},move(o){if(l.event===void 0)return;if(l.event.dir!==!1){je(o);return}const b=Date.now()-l.event.time;if(b===0)return;const v=ca(o),k=v.left-l.event.x,m=Math.abs(k),T=v.top-l.event.y,g=Math.abs(T);if(l.event.mouse!==!0){if(m<l.sensitivity[1]&&g<l.sensitivity[1]){l.end(o);return}}else if(window.getSelection().toString()!==""){l.end(o);return}else if(m<l.sensitivity[2]&&g<l.sensitivity[2])return;const r=m/b,_=g/b;l.direction.vertical===!0&&m<g&&m<100&&_>l.sensitivity[0]&&(l.event.dir=T<0?"up":"down"),l.direction.horizontal===!0&&m>g&&g<100&&r>l.sensitivity[0]&&(l.event.dir=k<0?"left":"right"),l.direction.up===!0&&m<g&&T<0&&m<100&&_>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&m<g&&T>0&&m<100&&_>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&m>g&&k<0&&g<100&&r>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&m>g&&k>0&&g<100&&r>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(je(o),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qa(),l.styleCleanup=C=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const u=()=>{document.body.classList.remove("no-pointer-events--children")};C===!0?setTimeout(u,50):u()}),l.handler({evt:o,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:b,distance:{x:m,y:g}})):l.end(o)},end(o){l.event!==void 0&&(ze(l,"temp"),ye.is.firefox===!0&&We(a,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),o!==void 0&&l.event.dir!==!1&&je(o),l.event=void 0)}};if(a.__qtouchswipe=l,p.mouse===!0){const o=p.mouseCapture===!0||p.mousecapture===!0?"Capture":"";Se(l,"main",[[a,"mousedown","mouseStart",`passive${o}`]])}ye.has.touch===!0&&Se(l,"main",[[a,"touchstart","touchStart",`passive${p.capture===!0?"Capture":""}`],[a,"touchmove","noop","notPassiveCapture"]])},updated(a,i){const f=a.__qtouchswipe;f!==void 0&&(i.oldValue!==i.value&&(typeof i.value!="function"&&f.end(),f.handler=i.value),f.direction=sa(i.modifiers))},beforeUnmount(a){const i=a.__qtouchswipe;i!==void 0&&(ze(i,"main"),ze(i,"temp"),ye.is.firefox===!0&&We(a,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete a.__qtouchswipe)}});function St(){const a=new Map;return{getCache:function(i,f){return a[i]===void 0?a[i]=f:a[i]},getCacheWithFn:function(i,f){return a[i]===void 0?a[i]=f():a[i]}}}const qt={name:{required:!0},disable:Boolean},ga={setup(a,{slots:i}){return()=>B("div",{class:"q-panel scroll",role:"tabpanel"},Ae(i.default))}},$t={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Vt=["update:modelValue","beforeTransition","transition"];function Rt(){const{props:a,emit:i,proxy:f}=Ve(),{getCacheWithFn:p}=St();let s,l;const o=F(null),b=F(null);function v(x){const L=a.vertical===!0?"up":"left";H((f.$q.lang.rtl===!0?-1:1)*(x.direction===L?1:-1))}const k=E(()=>[[xt,v,void 0,{horizontal:a.vertical!==!0,vertical:a.vertical,mouse:!0}]]),m=E(()=>a.transitionPrev||`slide-${a.vertical===!0?"down":"right"}`),T=E(()=>a.transitionNext||`slide-${a.vertical===!0?"up":"left"}`),g=E(()=>`--q-transition-duration: ${a.transitionDuration}ms`),r=E(()=>typeof a.modelValue=="string"||typeof a.modelValue=="number"?a.modelValue:String(a.modelValue)),_=E(()=>({include:a.keepAliveInclude,exclude:a.keepAliveExclude,max:a.keepAliveMax})),C=E(()=>a.keepAliveInclude!==void 0||a.keepAliveExclude!==void 0);ke(()=>a.modelValue,(x,L)=>{const J=h(x)===!0?Q(x):-1;l!==!0&&M(J===-1?0:J<Q(L)?-1:1),o.value!==J&&(o.value=J,i("beforeTransition",x,L),tt(()=>{i("transition",x,L)}))});function u(){H(1)}function d(){H(-1)}function j(x){i("update:modelValue",x)}function h(x){return x!=null&&x!==""}function Q(x){return s.findIndex(L=>L.props.name===x&&L.props.disable!==""&&L.props.disable!==!0)}function z(){return s.filter(x=>x.props.disable!==""&&x.props.disable!==!0)}function M(x){const L=x!==0&&a.animated===!0&&o.value!==-1?"q-transition--"+(x===-1?m.value:T.value):null;b.value!==L&&(b.value=L)}function H(x,L=o.value){let J=L+x;for(;J>-1&&J<s.length;){const ue=s[J];if(ue!==void 0&&ue.props.disable!==""&&ue.props.disable!==!0){M(x),l=!0,i("update:modelValue",ue.props.name),setTimeout(()=>{l=!1});return}J+=x}a.infinite===!0&&s.length!==0&&L!==-1&&L!==s.length&&H(x,x===-1?s.length:-1)}function Y(){const x=Q(a.modelValue);return o.value!==x&&(o.value=x),!0}function ne(){const x=h(a.modelValue)===!0&&Y()&&s[o.value];return a.keepAlive===!0?[B(ot,_.value,[B(C.value===!0?p(r.value,()=>({...ga,name:r.value})):ga,{key:r.value,style:g.value},()=>x)])]:[B("div",{class:"q-panel scroll",style:g.value,key:r.value,role:"tabpanel"},[x])]}function Le(){if(s.length!==0)return a.animated===!0?[B(nt,{name:b.value},ne)]:ne()}function Oe(x){return s=lt(Ae(x.default,[])).filter(L=>L.props!==null&&L.props.slot===void 0&&h(L.props.name)===!0),s.length}function Ue(){return s}return Object.assign(f,{next:u,previous:d,goTo:j}),{panelIndex:o,panelDirectives:k,updatePanelsList:Oe,updatePanelIndex:Y,getPanelContent:Le,getEnabledPanels:z,getPanels:Ue,isValidPanelName:h,keepAliveProps:_,needsUniqueKeepAliveWrapper:C,goToPanelByOffset:H,goToPanel:j,nextPanel:u,previousPanel:d}}const _a=Re({name:"QTabPanel",props:qt,setup(a,{slots:i}){return()=>B("div",{class:"q-tab-panel",role:"tabpanel"},Ae(i.default))}}),At=Re({name:"QTabPanels",props:{...$t,...rt},emits:Vt,setup(a,{slots:i}){const f=Ve(),p=it(a,f.proxy.$q),{updatePanelsList:s,getPanelContent:l,panelDirectives:o}=Rt(),b=E(()=>"q-tab-panels q-panel-parent"+(p.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(i),st("div",{class:b.value},l(),"pan",a.swipeable,()=>o.value))}}),Ft={class:"q-gutter-sm"},It={key:1},Et=G({__name:"PengajuanDanaItemTable",props:{rows:{},data:{},formOptions:{}},setup(a,{expose:i}){const f=a,p=E(()=>{const u=f.rows.reduce((h,Q)=>h+parseFloat(Q.jumlah_pengajuan.toString()),0),d=f.rows.reduce((h,Q)=>_.value.includes(Q.id_detail_pengajuan_dana)?h+parseFloat(Q.jumlah_pengajuan.toString()):h,0),j=u-d;return{pengajuan:u,disetujui:d,ditolak:j}}),s=Pe();function l(){s.dialog({component:Ht,componentProps:{pengajuanDana:f.data.pengajuanDana,options:f.formOptions}}).onOk(u=>{s.notify({type:u.type,message:u.message,position:"top"})})}function o(u){s.dialog({component:Yt,componentProps:{detailPengajuanDana:u,options:f.formOptions}}).onOk(d=>{s.notify({type:d.type,message:d.message,position:"top"})})}function b(u){s.dialog({component:en,componentProps:{id_detail_pengajuan_dana:u}}).onOk(d=>{s.notify({type:d.type,message:d.message,position:"top"})})}const v=[{name:"index",label:"#",field:"index"},{name:"uraian",label:"Uraian",field:"uraian",align:"left",sortable:!0},{name:"pos",label:"POS",field:"pos",align:"left",sortable:!0},{name:"jenis_pembayaran",label:"Jenis Pembayaran",field:"jenis_pembayaran",align:"left",sortable:!0},{name:"bank",label:"Bank",field:"nama_bank",align:"left",sortable:!0},{name:"rekening",label:"Rekening",field:"nomor_rekening",align:"left",sortable:!0},{name:"jumlah",label:"Jumlah Pengajuan",field:"jumlah_pengajuan",align:"right",sortable:!0},{name:"persetujuan",label:"Approval",field:"",align:"left"},{name:"actions",label:"Actions",field:"",align:"left"}],k=()=>{let u=[];return pe("approve pengajuan dana")&&Je(f.data.pengajuanDana)?v.map(d=>u.push(d.name)):v.map(d=>{if(d.name!=="persetujuan")return u.push(d.name)}),u},m=F(!1);function T(){m.value=!m.value}const g=F(""),r=F([]),_=E(()=>{let u=[];return r.value&&r.value.map(d=>u.push(d.id_detail_pengajuan_dana)),u}),C=E(()=>r.value?r.value.reduce((d,j)=>{const h=d.find(Q=>Q.id_detail_rap===j.id_detail_rap);return h?h.jumlah_pengajuan+=parseFloat(j.jumlah_pengajuan.toString()):d.push({id_detail_rap:j.id_detail_rap,jumlah_pengajuan:parseFloat(j.jumlah_pengajuan.toString())}),d},[]):[]);return i({selectedIds:_,approvedPengajuanSaatIni:C}),(u,d)=>(D(),A(Xe,{flat:"",bordered:"","row-key":"id_detail_pengajuan_dana",rows:u.rows,columns:v,"visible-columns":k(),"rows-per-page-options":[10,15,20,25,50,0],fullscreen:m.value,filter:g.value,selection:"multiple",selected:r.value,"onUpdate:selected":d[1]||(d[1]=j=>r.value=j),class:"no-border"},ut({"top-left":t(()=>[V("div",Ft,[n(qe)()||n(pe)("create & modify pengajuan dana")&&n(Ce)(u.data.pengajuanDana)?(D(),A($,{key:0,"no-caps":"",label:"Tambah Uraian",icon:"add",color:"primary",onClick:l})):te("",!0)])]),"top-right":t(()=>[e(le,{dense:"",debounce:"300",modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=j=>g.value=j),placeholder:"Search"},{append:t(()=>[e(fe,{name:"search"})]),_:1},8,["modelValue"]),e($,{flat:"",dense:"",icon:m.value?"fullscreen_exit":"fullscreen",onClick:T,class:"q-ml-md"},null,8,["icon"])]),header:t(j=>[e(re,{props:j},{default:t(()=>[(D(!0),he(we,null,Fe(j.cols,h=>(D(),A(Ye,{key:h.name,props:j,style:{"font-weight":"bold"}},{default:t(()=>[h.name==="persetujuan"?(D(),A(pa,{key:0,modelValue:j.selected,"onUpdate:modelValue":Q=>j.selected=Q,label:"Approval"},null,8,["modelValue","onUpdate:modelValue"])):(D(),he("span",It,q(h.label),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:t(j=>[e(re,{props:j},{default:t(()=>[e(S,{key:"index",props:j},{default:t(()=>[w(q(++j.rowIndex),1)]),_:2},1032,["props"]),e(S,{key:"uraian",props:j},{default:t(()=>[w(q(j.row.uraian),1)]),_:2},1032,["props"]),e(S,{key:"pos",props:j},{default:t(()=>[w(q(j.row.pos),1)]),_:2},1032,["props"]),e(S,{key:"jenis_pembayaran",props:j},{default:t(()=>[w(q(j.row.jenis_pembayaran),1)]),_:2},1032,["props"]),e(S,{key:"bank",props:j},{default:t(()=>[w(q(j.row.nama_bank),1)]),_:2},1032,["props"]),e(S,{key:"rekening",props:j},{default:t(()=>[w(q(j.row.nomor_rekening)+" - "+q(j.row.nama_rekening),1)]),_:2},1032,["props"]),e(S,{key:"jumlah",props:j},{default:t(()=>[w(q(n(Z)(j.row.jumlah_pengajuan)),1)]),_:2},1032,["props"]),e(S,{key:"persetujuan",props:j},{default:t(()=>[e(pa,{modelValue:j.selected,"onUpdate:modelValue":h=>j.selected=h},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),e(S,{key:"actions",props:j},{default:t(()=>[n(qe)()||n(pe)("create & modify pengajuan dana")&&n(Ce)(u.data.pengajuanDana)?(D(),A($,{key:0,dense:"",flat:"",color:"blue-grey",icon:"more_vert"},{default:t(()=>[e(va,{"auto-close":"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[e(ba,{dense:"",style:{"min-width":"100px"}},{default:t(()=>[e(ee,{clickable:""},{default:t(()=>[e(ae,{onClick:h=>o(j.row)},{default:t(()=>[w(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024),e(W),e(ee,{clickable:""},{default:t(()=>[e(ae,{class:"text-red",onClick:h=>b(j.row.id_detail_pengajuan_dana)},{default:t(()=>[w(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(D(),A($,{key:1,dense:"",flat:"",color:"grey-6",icon:"block"},{default:t(()=>[e(Ee,null,{default:t(()=>[w("Required permission")]),_:1})]),_:1}))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:2},[u.rows.length?{name:"bottom-row",fn:t(()=>[e(re,{"no-hover":""},{default:t(()=>[e(S,{colspan:"5",style:{border:"none"}}),e(S,{class:"text-right"},{default:t(()=>[w(" Total Pengajuan ")]),_:1}),e(S,{class:"text-right text-weight-bold"},{default:t(()=>[w(q(n(Z)(p.value.pengajuan)),1)]),_:1}),e(S,{style:{border:"none"}})]),_:1}),n(Je)(u.data.pengajuanDana)?(D(),A(re,{key:0,"no-hover":""},{default:t(()=>[e(S,{colspan:"5",style:{border:"none"}}),e(S,{class:"text-right"},{default:t(()=>[w(" Total Disetujui ")]),_:1}),e(S,{class:"text-right text-weight-bold"},{default:t(()=>[w(q(n(Z)(p.value.disetujui)),1)]),_:1}),e(S,{style:{border:"none"}})]),_:1})):te("",!0),n(Je)(u.data.pengajuanDana)?(D(),A(re,{key:1,"no-hover":""},{default:t(()=>[e(S,{colspan:"5",style:{border:"none"}}),e(S,{class:"text-right"},{default:t(()=>[w(" Total Ditolak ")]),_:1}),e(S,{class:"text-right text-weight-bold"},{default:t(()=>[w(q(n(Z)(p.value.ditolak)),1)]),_:1}),e(S,{style:{border:"none"}})]),_:1})):te("",!0)]),key:"0"}:void 0]),1032,["rows","visible-columns","fullscreen","filter","selected"]))}}),Qt=V("div",{class:"text-h6"},"Tambah Uraian Pengajuan Dana",-1),Lt={class:"q-gutter-md"},Ot={class:"row"},Ut={class:"col-12 col-md-6 q-pr-sm"},Bt={class:"col-12 col-md-6 q-pl-sm"},Mt={class:"text-primary"},Ht=G({__name:"PengajuanDanaItemCreateDialog",props:{pengajuanDana:{},options:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=["Cash","Transfer"],b=F(i.options.detailRap),v=F(i.options.rekening),k=F(o);function m(C,u){u(()=>{b.value=$e(C,i.options.detailRap,["uraian"])})}function T(C,u){u(()=>{v.value=$e(C,i.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function g(C,u){u(()=>{k.value=Pa(C,o)})}const r=se({uraian:null,jumlah_pengajuan:0,jenis_pembayaran:null,id_detail_rap:null,id_rekening:null});function _(){r.post(route("detail_pengajuan_dana.store",i.pengajuanDana.id_pengajuan_dana),{onSuccess:C=>{p({type:"positive",message:C.props.flash.success})}})}return(C,u)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[Qt,e(De),e($,{flat:"",round:"",dense:"",icon:"close",onClick:n(s)},null,8,["onClick"])]),_:1}),e(W),e(Qe,{onSubmit:Ie(_,["prevent"])},{default:t(()=>[e(N,{class:"scroll"},{default:t(()=>[V("div",Lt,[e(be,{outlined:"",clearable:"","use-input":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"POS",modelValue:n(r).id_detail_rap,"onUpdate:modelValue":u[0]||(u[0]=d=>n(r).id_detail_rap=d),"option-value":"id_detail_rap","option-label":"uraian",options:b.value,error:!!n(r).errors.id_detail_rap,"error-message":n(r).errors.id_detail_rap,onFilter:m},{"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(le,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:n(r).uraian,"onUpdate:modelValue":u[1]||(u[1]=d=>n(r).uraian=d),error:!!n(r).errors.uraian,"error-message":n(r).errors.uraian},null,8,["modelValue","error","error-message"]),V("div",Ot,[V("div",Ut,[e(le,{outlined:"","reverse-fill-mask":"","hide-bottom-space":"",label:"Jumlah Pengajuan",mask:"#.##","fill-mask":"0",modelValue:n(r).jumlah_pengajuan,"onUpdate:modelValue":u[2]||(u[2]=d=>n(r).jumlah_pengajuan=d),hint:n(Z)(n(r).jumlah_pengajuan),"hide-hint":n(r).jumlah_pengajuan<1,error:!!n(r).errors.jumlah_pengajuan,"error-message":n(r).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),V("div",Bt,[e(be,{outlined:"",clearable:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:n(r).jenis_pembayaran,"onUpdate:modelValue":u[3]||(u[3]=d=>n(r).jenis_pembayaran=d),options:k.value,error:!!n(r).errors.jenis_pembayaran,"error-message":n(r).errors.jenis_pembayaran,onFilter:g},{"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(be,{outlined:"",clearable:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:n(r).id_rekening,"onUpdate:modelValue":u[4]||(u[4]=d=>n(r).id_rekening=d),"option-value":"id_rekening","option-label":d=>`${d.nama_bank} | ${d.nomor_rekening} - ${d.nama_rekening}`,options:v.value,error:!!n(r).errors.id_rekening,"error-message":n(r).errors.id_rekening,onFilter:T},{option:t(d=>[e(ee,ja(wa(d.itemProps)),{default:t(()=>[e(ae,null,{default:t(()=>[V("strong",Mt,q(d.opt.nama_bank),1),w(" "+q(d.opt.nomor_rekening)+" - "+q(d.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(W),e(ge,{align:"right"},{default:t(()=>[n(r).hasErrors?(D(),A($,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:u[5]||(u[5]=d=>n(r).clearErrors())})):te("",!0),e($,{flat:"",label:"Reset",color:"secondary",onClick:u[6]||(u[6]=d=>n(r).reset())}),e($,{flat:"",type:"submit",label:"Submit",color:"primary",loading:n(r).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),Nt=V("div",{class:"text-h6"},"Edit Uraian Pengajuan Dana",-1),Kt={class:"q-gutter-md"},Wt={class:"row"},zt={class:"col-12 col-md-6 q-pr-sm"},Jt={class:"col-12 col-md-6 q-pl-sm"},Xt={class:"text-primary"},Yt=G({__name:"PengajuanDanaItemEditDialog",props:{detailPengajuanDana:{},options:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=["Cash","Transfer"],b=F(i.options.detailRap),v=F(i.options.rekening),k=F(o);function m(C,u){u(()=>{b.value=$e(C,i.options.detailRap,["uraian"])})}function T(C,u){u(()=>{v.value=$e(C,i.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function g(C,u){u(()=>{k.value=Pa(C,o)})}const r=se({uraian:i.detailPengajuanDana.uraian,jumlah_pengajuan:i.detailPengajuanDana.jumlah_pengajuan,jenis_pembayaran:i.detailPengajuanDana.jenis_pembayaran,id_detail_rap:i.detailPengajuanDana.id_detail_rap,id_rekening:i.detailPengajuanDana.id_rekening});function _(){r.patch(route("detail_pengajuan_dana.update",i.detailPengajuanDana.id_detail_pengajuan_dana),{onSuccess:C=>{p({type:"positive",message:C.props.flash.success})}})}return(C,u)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[Nt,e(De),e($,{flat:"",round:"",dense:"",icon:"close",onClick:n(s)},null,8,["onClick"])]),_:1}),e(W),e(Qe,{onSubmit:Ie(_,["prevent"])},{default:t(()=>[e(N,{class:"scroll"},{default:t(()=>[V("div",Kt,[e(be,{outlined:"",clearable:"","use-input":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"POS",modelValue:n(r).id_detail_rap,"onUpdate:modelValue":u[0]||(u[0]=d=>n(r).id_detail_rap=d),"option-value":"id_detail_rap","option-label":"uraian",options:b.value,error:!!n(r).errors.id_detail_rap,"error-message":n(r).errors.id_detail_rap,onFilter:m},{"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(le,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:n(r).uraian,"onUpdate:modelValue":u[1]||(u[1]=d=>n(r).uraian=d),error:!!n(r).errors.uraian,"error-message":n(r).errors.uraian},null,8,["modelValue","error","error-message"]),V("div",Wt,[V("div",zt,[e(le,{outlined:"","reverse-fill-mask":"","hide-bottom-space":"",label:"Jumlah Pengajuan",mask:"#.##","fill-mask":"0",modelValue:n(r).jumlah_pengajuan,"onUpdate:modelValue":u[2]||(u[2]=d=>n(r).jumlah_pengajuan=d),hint:n(Z)(n(r).jumlah_pengajuan),"hide-hint":n(r).jumlah_pengajuan<1,error:!!n(r).errors.jumlah_pengajuan,"error-message":n(r).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),V("div",Jt,[e(be,{outlined:"",clearable:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:n(r).jenis_pembayaran,"onUpdate:modelValue":u[3]||(u[3]=d=>n(r).jenis_pembayaran=d),options:k.value,error:!!n(r).errors.jenis_pembayaran,"error-message":n(r).errors.jenis_pembayaran,onFilter:g},{"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(be,{outlined:"",clearable:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:n(r).id_rekening,"onUpdate:modelValue":u[4]||(u[4]=d=>n(r).id_rekening=d),"option-value":"id_rekening","option-label":d=>`${d.nama_bank} | ${d.nomor_rekening} - ${d.nama_rekening}`,options:v.value,error:!!n(r).errors.id_rekening,"error-message":n(r).errors.id_rekening,onFilter:T},{option:t(d=>[e(ee,ja(wa(d.itemProps)),{default:t(()=>[e(ae,null,{default:t(()=>[V("strong",Xt,q(d.opt.nama_bank),1),w(" "+q(d.opt.nomor_rekening)+" - "+q(d.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":t(()=>[e(ee,null,{default:t(()=>[e(ae,{class:"text-grey"},{default:t(()=>[w(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(W),e(ge,{align:"right"},{default:t(()=>[n(r).hasErrors?(D(),A($,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:u[5]||(u[5]=d=>n(r).clearErrors())})):te("",!0),e($,{flat:"",label:"Reset",color:"secondary",onClick:u[6]||(u[6]=d=>n(r).reset())}),e($,{flat:"",type:"submit",label:"Update",color:"primary",loading:n(r).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),Gt=V("div",{class:"text-h6"},"Delete Confirmation",-1),Zt=V("span",{class:"q-ml-sm"},"Are you sure want to delete this data?",-1),en=G({__name:"PengajuanDanaItemDeleteDialog",props:{id_detail_pengajuan_dana:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=se({id_detail_pengajuan_dana:i.id_detail_pengajuan_dana});function b(){o.delete(route("detail_pengajuan_dana.destroy",i.id_detail_pengajuan_dana),{onSuccess:v=>{p({type:"positive",message:v.props.flash.success})}})}return(v,k)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,null,{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[Gt]),_:1}),e(W),e(N,{class:"row items-center"},{default:t(()=>[e(Ca,{icon:"dangerous",color:"red","text-color":"white"}),Zt]),_:1}),e(ge,{align:"right"},{default:t(()=>[e($,{flat:"",label:"Cancel",color:"primary",onClick:n(s)},null,8,["onClick"]),e($,{flat:"",label:"Yes, delete it",color:"red",onClick:b})]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),an=G({__name:"PengajuanDanaSubmissionForm",props:{data:{}},setup(a){const i=a,f=Pe(),p=se({catatan:""});function s(){p.post(route("pengajuan_dana.submit",i.data.id_pengajuan_dana),{onSuccess:o=>{f.notify({type:"positive",message:o.props.flash.success,position:"top"})}})}function l(){f.dialog({title:"Submission Confirmation",message:"Are you sure want to submit this data?",prompt:{model:p.catatan,type:"text",placeholder:"Tambahkan Catatan",autogrow:!0},cancel:{flat:!0,color:"secondary"},ok:"Confirm",persistent:!0}).onOk(o=>{p.catatan=o,s()})}return(o,b)=>(D(),A(Ge,{position:"bottom-right",offset:[18,18]},{default:t(()=>[e($,{rounded:"",color:"primary",label:"Submit","icon-right":"check",onClick:l},{default:t(()=>[e(Ee,null,{default:t(()=>[w("Click to submit")]),_:1})]),_:1})]),_:1}))}}),tn=G({__name:"PengajuanDanaEvaluateForm",props:{data:{}},setup(a){const i=a,f=Pe();function p(){f.dialog({component:sn,componentProps:{data:i.data}}).onOk(s=>{f.notify({type:s.type,message:s.message,position:"top"})})}return(s,l)=>(D(),A(Ge,{position:"bottom-right",offset:[18,18]},{default:t(()=>[e($,{rounded:"",label:"Evaluasi",color:"green",icon:"keyboard_arrow_left",onClick:p},{default:t(()=>[e(Ee,null,{default:t(()=>[w("Evaluasi Pengajuan")]),_:1})]),_:1})]),_:1}))}}),nn=G({__name:"PengajuanDanaApprovalForm",props:{data:{}},setup(a){const i=a,f=Pe(),p=se({catatan:""});function s(){p.transform(v=>({...v,selected_ids_detail_pengajuan_dana:i.data.selected_ids_detail_pengajuan_dana})).post(route("pengajuan_dana.approve",i.data.id_pengajuan_dana),{onSuccess:v=>{f.notify({type:"positive",message:v.props.flash.success,position:"top"})}})}function l(){p.post(route("pengajuan_dana.reject",i.data.id_pengajuan_dana),{onSuccess:v=>{f.notify({type:"positive",message:v.props.flash.success,position:"top"})}})}function o(){f.dialog({title:"Approval Confirmation",message:"Are you sure want to approve this data?",prompt:{model:p.catatan,type:"text",placeholder:"Tambahkan Catatan",autogrow:!0},cancel:{flat:!0,color:"secondary"},ok:"Confirm",persistent:!0}).onOk(v=>{p.catatan=v,s()})}function b(){f.dialog({title:"Rejection Confirmation",message:"Are you sure want to reject this data?",prompt:{model:p.catatan,type:"text",placeholder:"Tambahkan Catatan",autogrow:!0},cancel:{flat:!0,color:"secondary"},ok:"Confirm",persistent:!0}).onOk(v=>{p.catatan=v,l()})}return(v,k)=>(D(),A(Ge,{position:"bottom-right",offset:[18,18]},{default:t(()=>[e(bt,{color:"primary",icon:"keyboard_arrow_left",direction:"left"},{label:t(({opened:m})=>[V("div",{class:dt({"example-fab-animate--hover":m!==!0})},q(m!==!0?"Approval":"Close"),3)]),default:t(()=>{var m,T;return[e(fa,{color:"green",label:"Setujui",icon:"check",disable:!((m=v.data.selected_ids_detail_pengajuan_dana)!=null&&m.length),onClick:o},null,8,["disable"]),e(fa,{color:"red",label:"Tolak",icon:"clear",disable:!!((T=v.data.selected_ids_detail_pengajuan_dana)!=null&&T.length),onClick:b},null,8,["disable"])]}),_:1})]),_:1}))}}),ln=V("div",{class:"text-h6"},"Lembar Evaluasi",-1),on={class:"q-gutter-md"},rn={class:"q-gutter-md"},sn=G({__name:"PengajuanDanaEvaluationDialog",props:{data:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=E(()=>i.data.evaluasi.map(g=>{if(g.pengajuan_saat_ini=0,i.data.approvedPengajuanSaatIni){const u=i.data.approvedPengajuanSaatIni.find(d=>d.id_detail_rap===g.id_detail_rap);u&&(g.pengajuan_saat_ini+=u.jumlah_pengajuan)}const _=(g.pengajuan_lalu?parseFloat(g.pengajuan_lalu.toString()):0)+g.pengajuan_saat_ini,C=g.total_harga-_;return{...g,total_pengajuan:_,sisa_anggaran:C}})),b=se({selected_ids_detail_pengajuan_dana:i.data.selected_ids_detail_pengajuan_dana,catatan:null});function v(){b.post(route("pengajuan_dana.evaluate",i.data.id_pengajuan_dana),{onSuccess:g=>{p({type:"positive",message:g.props.flash.success})}})}function k(){b.post(route("pengajuan_dana.reject",i.data.id_pengajuan_dana),{onSuccess:g=>{p({type:"positive",message:g.props.flash.success})}})}const m=[{name:"index",label:"#",field:"index"},{name:"uraian",label:"Uraian",field:"uraian",align:"left",sortable:!0},{name:"nama_satuan",label:"Satuan",field:"nama_satuan",align:"left",sortable:!0},{name:"harga_satuan",label:"Harga Satuan",field:"harga_satuan",align:"right",sortable:!0},{name:"volume",label:"Volume",field:"volume",align:"left",sortable:!0},{name:"total_harga",label:"Total Harga",field:"total_harga",align:"right",sortable:!0},{name:"pengajuan_lalu",label:"Pengajuan Sebelumnya",field:"pengajuan_lalu",align:"right",sortable:!0},{name:"pengajuan_saat_ini",label:"Pengajuan Saat Ini",field:"",align:"right",sortable:!0},{name:"total_pengajuan",label:"Total Pengajuan",field:"",align:"right",sortable:!0},{name:"sisa_anggaran",label:"Sisa Anggaran",field:"",align:"right",sortable:!0}],T=F();return(g,r)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,{style:{"max-width":"100vw"}},{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[ln,e(De),e($,{flat:"",round:"",dense:"",icon:"close",onClick:n(s)},null,8,["onClick"])]),_:1}),e(W),e(N,{class:"scroll"},{default:t(()=>[V("div",on,[e(Xe,{flat:"",bordered:"","row-key":"id_detail_rap",rows:o.value,columns:m,filter:T.value,"rows-per-page-options":[0],title:"Evaluasi Pengajuan Dana",style:{"max-height":"100vh"},"virtual-scroll":""},{"top-right":t(()=>[e(le,{dense:"",debounce:"300",modelValue:T.value,"onUpdate:modelValue":r[0]||(r[0]=_=>T.value=_),placeholder:"Search"},{append:t(()=>[e(fe,{name:"search"})]),_:1},8,["modelValue"])]),header:t(_=>[e(re,{props:_},{default:t(()=>[(D(!0),he(we,null,Fe(_.cols,C=>(D(),A(Ye,{key:C.name,props:_,style:{"font-weight":"bold"}},{default:t(()=>[w(q(C.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:t(_=>[e(re,{props:_},{default:t(()=>[e(S,{key:"index",props:_},{default:t(()=>[w(q(++_.rowIndex),1)]),_:2},1032,["props"]),e(S,{key:"uraian",props:_},{default:t(()=>[w(q(_.row.uraian),1)]),_:2},1032,["props"]),e(S,{key:"nama_satuan",props:_},{default:t(()=>[w(q(_.row.nama_satuan),1)]),_:2},1032,["props"]),e(S,{key:"harga_satuan",props:_},{default:t(()=>[w(q(n(Z)(_.row.harga_satuan)),1)]),_:2},1032,["props"]),e(S,{key:"volume",props:_},{default:t(()=>[w(q(_.row.volume),1)]),_:2},1032,["props"]),e(S,{key:"total_harga",props:_},{default:t(()=>[w(q(n(Z)(_.row.total_harga)),1)]),_:2},1032,["props"]),e(S,{key:"pengajuan_lalu",props:_},{default:t(()=>[w(q(n(Z)(_.row.pengajuan_lalu)),1)]),_:2},1032,["props"]),e(S,{key:"pengajuan_saat_ini",props:_},{default:t(()=>[w(q(n(Z)(_.row.pengajuan_saat_ini||0)),1)]),_:2},1032,["props"]),e(S,{key:"total_pengajuan",props:_},{default:t(()=>[w(q(n(Z)(_.row.total_pengajuan)),1)]),_:2},1032,["props"]),e(S,{key:"sisa_anggaran",props:_},{default:t(()=>[w(q(n(Z)(_.row.sisa_anggaran)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])]),_:1}),e(N,null,{default:t(()=>[V("div",rn,[e(le,{outlined:"",autogrow:"",label:"Catatan",modelValue:n(b).catatan,"onUpdate:modelValue":r[1]||(r[1]=_=>n(b).catatan=_)},null,8,["modelValue"])])]),_:1}),e(W),e(ge,{align:"right"},{default:t(()=>{var _,C;return[e($,{flat:"",label:"Tolak",color:"red",loading:n(b).processing,disable:!!((_=g.data.selected_ids_detail_pengajuan_dana)!=null&&_.length),onClick:k},null,8,["loading","disable"]),e($,{flat:"",label:"Approve",color:"primary",loading:n(b).processing,disable:!((C=g.data.selected_ids_detail_pengajuan_dana)!=null&&C.length),onClick:v},null,8,["loading","disable"])]}),_:1})]),_:1})]),_:1},8,["onHide"]))}}),un=G({__name:"FilesTable",props:{rows:{},data:{}},setup(a){const i=a,f=Pe();function p(){f.dialog({component:pn,componentProps:{model_id:i.data.model_id}}).onOk(m=>{f.notify({type:m.type,message:m.message,position:"top"})})}function s(m){f.dialog({component:gn,componentProps:{file:m}}).onOk(T=>{f.notify({type:T.type,message:T.message,position:"top"})})}function l(m){f.dialog({component:bn,componentProps:{id_file:m}}).onOk(T=>{f.notify({type:T.type,message:T.message,position:"top"})})}const o=[{name:"index",label:"#",field:"index"},{name:"file",label:"File",field:"file_name",align:"left",sortable:!0},{name:"download",label:"Download",field:"file_path",align:"left"},{name:"actions",label:"Actions",field:"",align:"left"}],b=F(!1);function v(){b.value=!b.value}const k=F("");return(m,T)=>(D(),A(Xe,{flat:"",bordered:"","row-key":"id_rap",rows:m.rows,columns:o,filter:k.value,"rows-per-page-options":[10,15,20,25,50,0],fullscreen:b.value,class:"no-border"},{"top-left":t(()=>[n(qe)()||n(pe)(m.data.permissions)&&n(Ce)(m.data)?(D(),A($,{key:0,"no-caps":"",label:"Tambah File",icon:"add",color:"primary",onClick:p})):te("",!0)]),"top-right":t(()=>[e(le,{dense:"",debounce:"300",modelValue:k.value,"onUpdate:modelValue":T[0]||(T[0]=g=>k.value=g),placeholder:"Search"},{append:t(()=>[e(fe,{name:"search"})]),_:1},8,["modelValue"]),e($,{flat:"",dense:"",icon:b.value?"fullscreen_exit":"fullscreen",onClick:v,class:"q-ml-md"},null,8,["icon"])]),header:t(g=>[e(re,{props:g},{default:t(()=>[(D(!0),he(we,null,Fe(g.cols,r=>(D(),A(Ye,{key:r.name,props:g,style:{"font-weight":"bold"}},{default:t(()=>[w(q(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:t(g=>[e(re,{props:g},{default:t(()=>[e(S,{key:"index",props:g},{default:t(()=>[w(q(++g.rowIndex),1)]),_:2},1032,["props"]),e(S,{key:"file",props:g},{default:t(()=>[w(q(g.row.file_name),1)]),_:2},1032,["props"]),e(S,{key:"download",props:g},{default:t(()=>[e($,{flat:"",dense:"",icon:"download",color:"secondary",href:g.row.file_path,download:g.row.file_name},null,8,["href","download"])]),_:2},1032,["props"]),e(S,{key:"actions",props:g},{default:t(()=>[n(qe)()||n(pe)(m.data.permissions)&&n(Ce)(m.data)?(D(),A($,{key:0,dense:"",flat:"",color:"blue-grey",icon:"more_vert"},{default:t(()=>[e(va,{"auto-close":"","transition-show":"scale","transition-hide":"scale"},{default:t(()=>[e(ba,{dense:"",style:{"min-width":"100px"}},{default:t(()=>[e(ee,{clickable:""},{default:t(()=>[e(ae,{onClick:r=>s(g.row)},{default:t(()=>[w(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024),e(W),e(ee,{clickable:""},{default:t(()=>[e(ae,{class:"text-red",onClick:r=>l(g.row.id_file)},{default:t(()=>[w(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(D(),A($,{key:1,dense:"",flat:"",color:"grey-6",icon:"block"},{default:t(()=>[e(Ee,null,{default:t(()=>[w("Required permission")]),_:1})]),_:1}))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","filter","fullscreen"]))}}),dn=V("div",{class:"text-h6"},"Tambah File",-1),cn={class:"q-gutter-md"},pn=G({__name:"FileCreateDialog",props:{model_id:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=se({file_name:null,file:null});function b(){o.post(route("file.store",i.model_id),{onSuccess:v=>{p({type:"positive",message:v.props.flash.success})}})}return(v,k)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[dn,e(De),e($,{flat:"",round:"",dense:"",icon:"close",onClick:n(s)},null,8,["onClick"])]),_:1}),e(W),e(Qe,{onSubmit:Ie(b,["prevent"])},{default:t(()=>[e(N,{class:"scroll"},{default:t(()=>[V("div",cn,[e(le,{outlined:"","hide-bottom-space":"",modelValue:n(o).file_name,"onUpdate:modelValue":k[0]||(k[0]=m=>n(o).file_name=m),label:"Nama File",error:!!n(o).errors.file_name,"error-message":n(o).errors.file_name},null,8,["modelValue","error","error-message"]),e(Da,{outlined:"",counter:"","hide-bottom-space":"",modelValue:n(o).file,"onUpdate:modelValue":k[1]||(k[1]=m=>n(o).file=m),label:"Pick file",hint:"Format: png, jpeg, jpg, pdf",error:!!n(o).errors.file,"error-message":n(o).errors.file},null,8,["modelValue","error","error-message"])])]),_:1}),e(W),e(ge,{align:"right"},{default:t(()=>[n(o).hasErrors?(D(),A($,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:k[2]||(k[2]=m=>n(o).clearErrors())})):te("",!0),e($,{flat:"",label:"Reset",color:"secondary",onClick:k[3]||(k[3]=m=>n(o).reset())}),e($,{flat:"",type:"submit",label:"Submit",color:"primary",loading:n(o).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),fn=V("div",{class:"text-h6"},"Tambah File",-1),mn={class:"q-gutter-md"},gn=G({__name:"FileEditDialog",props:{file:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=se({file_name:i.file.file_name,file:null});function b(){o.post(route("file.update",i.file.id_file),{onSuccess:v=>{p({type:"positive",message:v.props.flash.success})}})}return(v,k)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[fn,e(De),e($,{flat:"",round:"",dense:"",icon:"close",onClick:n(s)},null,8,["onClick"])]),_:1}),e(W),e(Qe,{onSubmit:Ie(b,["prevent"])},{default:t(()=>[e(N,{class:"scroll"},{default:t(()=>[V("div",mn,[e(le,{outlined:"","hide-bottom-space":"",modelValue:n(o).file_name,"onUpdate:modelValue":k[0]||(k[0]=m=>n(o).file_name=m),label:"Nama File",error:!!n(o).errors.file_name,"error-message":n(o).errors.file_name},null,8,["modelValue","error","error-message"]),e(Da,{outlined:"",counter:"","hide-bottom-space":"",modelValue:n(o).file,"onUpdate:modelValue":k[1]||(k[1]=m=>n(o).file=m),label:"Pick file",hint:"Format: png, jpeg, jpg, pdf",error:!!n(o).errors.file,"error-message":n(o).errors.file},null,8,["modelValue","error","error-message"])])]),_:1}),e(W),e(ge,{align:"right"},{default:t(()=>[n(o).hasErrors?(D(),A($,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:k[2]||(k[2]=m=>n(o).clearErrors())})):te("",!0),e($,{flat:"",label:"Reset",color:"secondary",onClick:k[3]||(k[3]=m=>n(o).reset())}),e($,{flat:"",type:"submit",label:"Update",color:"primary",loading:n(o).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),_n=V("div",{class:"text-h6"},"Delete Confirmation",-1),vn=V("span",{class:"q-ml-sm"},"Are you sure want to delete this data?",-1),bn=G({__name:"FileDeleteDialog",props:{id_file:{}},emits:[...X.emits],setup(a){const i=a,{dialogRef:f,onDialogOK:p,onDialogCancel:s,onDialogHide:l}=X(),o=se({id_file:i.id_file});function b(){o.delete(route("file.destroy",i.id_file),{onSuccess:v=>{p({type:"positive",message:v.props.flash.success})}})}return(v,k)=>(D(),A(me,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:n(l)},{default:t(()=>[e(ie,null,{default:t(()=>[e(N,{class:"row items-center q-pb-none"},{default:t(()=>[_n]),_:1}),e(W),e(N,{class:"row items-center"},{default:t(()=>[e(Ca,{icon:"dangerous",color:"red","text-color":"white"}),vn]),_:1}),e(ge,{align:"right"},{default:t(()=>[e($,{flat:"",label:"Cancel",color:"primary",onClick:n(s)},null,8,["onClick"]),e($,{flat:"",label:"Yes, delete it",color:"red",onClick:b})]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),hn={class:"q-px-md q-pt-md"},yn={class:"row"},kn=V("div",{class:"col-4 text-caption"}," Keperluan ",-1),jn={class:"col-8 text-subtitle2"},wn=V("div",{class:"col-4 text-caption"}," Tanggal Pengajuan ",-1),Cn={class:"col-8 text-subtitle2"},Pn={class:"q-px-md q-pt-md"},Fn=G({__name:"DetailPengajuanDanaPage",props:{pengajuanDana:{},detailPengajuanDana:{},dokumenPenunjang:{},evaluasi:{},formOptions:{},timeline:{}},setup(a){const i=a,f=[{label:"Keuangan",url:"#"},{label:"Pengajuan Dana",url:route("pengajuan_dana")},{label:i.pengajuanDana.nama_proyek,url:"#"}],p=F("uraian"),s=F();return(l,o)=>{const b=ct("in-link");return D(),he(we,null,[e(n(pt),{title:"RAPP"}),e(Oa,null,{breadcrumbs:t(()=>[e(La,{align:"left"},{default:t(()=>[(D(),he(we,null,Fe(f,v=>ka(e(Ua,{label:v.label},null,8,["label"]),[[b,v.url]])),64))]),_:1})]),default:t(()=>{var v,k,m;return[e(ht,{title:"Pengajuan Dana","timeline-title":"Timeline Pengajuan Dana",data:{proyek:l.pengajuanDana,status:l.pengajuanDana.status_pengajuan,timeline:l.timeline}},null,8,["data"]),V("div",hn,[e(ie,{flat:"",bordered:"",style:{"max-width":"500px"}},{default:t(()=>[e(N,null,{default:t(()=>[V("div",yn,[kn,V("div",jn," : "+q(l.pengajuanDana.keperluan),1),wn,V("div",Cn," : "+q(n(gt)(l.pengajuanDana.tanggal_pengajuan)||"-"),1)])]),_:1})]),_:1})]),V("div",Pn,[e(ie,{flat:"",bordered:""},{default:t(()=>[e(Dt,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=T=>p.value=T),class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:t(()=>[e(ma,{"no-caps":"",name:"uraian",label:"Uraian"}),e(ma,{"no-caps":"",name:"dokumen",label:"Dokumen Penunjang"})]),_:1},8,["modelValue"]),e(W),e(At,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=T=>p.value=T)},{default:t(()=>[e(_a,{class:"q-pa-none",name:"uraian"},{default:t(()=>[e(n(Et),{ref_key:"table",ref:s,rows:l.detailPengajuanDana,data:{pengajuanDana:l.pengajuanDana},"form-options":l.formOptions},null,8,["rows","data","form-options"])]),_:1}),e(_a,{class:"q-pa-none",name:"dokumen"},{default:t(()=>[e(n(un),{rows:l.dokumenPenunjang,data:{model_id:l.pengajuanDana.id_pengajuan_dana,permissions:"create & modify pengajuan dana",status_aktivitas:l.pengajuanDana.status_aktivitas}},null,8,["rows","data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),n(pe)("create & modify pengajuan dana")&&n(Ce)(l.pengajuanDana)&&l.detailPengajuanDana.length?(D(),A(n(an),{key:0,data:{id_pengajuan_dana:l.pengajuanDana.id_pengajuan_dana}},null,8,["data"])):te("",!0),n(pe)("evaluate pengajuan dana")&&n(_t)(l.pengajuanDana)?(D(),A(n(tn),{key:1,data:{evaluasi:l.evaluasi,approvedPengajuanSaatIni:(v=s.value)==null?void 0:v.approvedPengajuanSaatIni,id_pengajuan_dana:l.pengajuanDana.id_pengajuan_dana,selected_ids_detail_pengajuan_dana:(k=s.value)==null?void 0:k.selectedIds}},null,8,["data"])):te("",!0),n(pe)("approve pengajuan dana")&&n(vt)(l.pengajuanDana)?(D(),A(n(nn),{key:2,data:{id_pengajuan_dana:l.pengajuanDana.id_pengajuan_dana,selected_ids_detail_pengajuan_dana:(m=s.value)==null?void 0:m.selectedIds}},null,8,["data"])):te("",!0)]}),_:1})],64)}}});export{Fn as default};
