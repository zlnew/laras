import{Q as j,a as F,b as q,_ as I,c as O}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-37451739.js";import{d as v,o as d,e as f,a,w as e,F as y,k as P,b as o,t as r,u as n,c as B,j as V,K,T as C,g as $,m as R,Z as E,n as U}from"./app-9a281e26.js";import{_ as L}from"./DashboardOverview.vue_vue_type_script_setup_true_lang-1276f93e.js";import{a as w,b as s,c as J,d as N,Q as D}from"./QTable-055131ee.js";import{t as m,a as g}from"./money-3074a8fc.js";import{m as Z,f as z}from"./options-964f32b0.js";import"./QImg-75496342.js";const A={class:"q-pa-md"},G=v({__name:"ProyekTable",props:{rows:{}},setup(h){const u=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"nilai_kontrak",label:"Nilai Kontrak",field:"nilai_kontrak",align:"right",sortable:!0},{name:"termin_sebelumnya",label:"Termin Sebelumnya",field:"termin_sebelumnya",align:"right",sortable:!0},{name:"termin_dalam_proses",label:"Termin Dalam Proses",field:"termin_dalam_proses",align:"right",sortable:!0},{name:"total_pencairan",label:"Total Pencairan",field:"total_pencairan",align:"right",sortable:!0},{name:"sisa_penagihan",label:"Sisa Penagihan",field:"sisa_penagihan",align:"right",sortable:!0}];return(p,k)=>(d(),f("div",A,[a(J,{flat:"",bordered:"",title:"Proyek",rows:p.rows,columns:u,"row-key":"id_proyek"},{header:e(t=>[a(w,{props:t},{default:e(()=>[(d(!0),f(y,null,P(t.cols,_=>(d(),B(N,{key:_.name,props:t,style:{"font-weight":"bold"}},{default:e(()=>[o(r(_.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(t=>[a(w,{props:t},{default:e(()=>[a(s,{key:"index",props:t},{default:e(()=>[o(r(++t.rowIndex),1)]),_:2},1032,["props"]),a(s,{key:"proyek",props:t},{default:e(()=>[o(r(t.row.nama_proyek),1)]),_:2},1032,["props"]),a(s,{key:"nilai_kontrak",props:t},{default:e(()=>[o(r(n(m)(n(g)(t.row.nilai_kontrak))),1)]),_:2},1032,["props"]),a(s,{key:"termin_sebelumnya",props:t},{default:e(()=>[o(r(n(m)(n(g)(t.row.termin_sebelumnya))),1)]),_:2},1032,["props"]),a(s,{key:"termin_dalam_proses",props:t},{default:e(()=>[o(r(n(m)(n(g)(t.row.termin_dalam_proses))),1)]),_:2},1032,["props"]),a(s,{key:"total_pencairan",props:t},{default:e(()=>[o(r(n(m)(n(g)(t.row.total_pencairan))),1)]),_:2},1032,["props"]),a(s,{key:"sisa_penagihan",props:t},{default:e(()=>[o(r(n(m)(n(g)(t.row.sisa_penagihan))),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))}}),H={class:"q-pa-md"},M={class:"row items-center q-col-gutter-sm"},W=$("div",{class:"text-caption"},"Filter By",-1),X=v({__name:"PiutangTable",props:{rows:{},options:{}},setup(h){const u=h,p=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"keperluan",label:"Keperluan",field:"keperluan",align:"left",sortable:!0},{name:"jumlah_piutang",label:"Jumlah Piutang",field:"jumlah_piutang",align:"right",sortable:!0}],k=V(u.options.pic),t=V(u.options.penggunaJasa);function _(b,i){i(()=>{k.value=Z(b,u.options.pic,["id","name"])})}function S(b,i){i(()=>{t.value=z(b,u.options.penggunaJasa)})}const x=K().props.query,c=C({piutang_query:!0,piutang_pengguna_jasa:x.piutang_pengguna_jasa,piutang_pic:x.piutang_pic});function Q(){c.get(route("dashboard.kepala_divisi"),{preserveScroll:!0})}return(b,i)=>(d(),f("div",H,[a(J,{flat:"",bordered:"",title:"Daftar Piutang",rows:b.rows,columns:p,"row-key":"id_penagihan"},{"top-right":e(()=>[$("div",M,[W,a(D,{dense:"",filled:"","use-input":"","input-debounce":"500",label:"Pengguna Jasa",modelValue:n(c).piutang_pengguna_jasa,"onUpdate:modelValue":[i[0]||(i[0]=l=>n(c).piutang_pengguna_jasa=l),i[1]||(i[1]=l=>Q())],options:t.value,onFilter:S},{"no-option":e(()=>[a(j,null,{default:e(()=>[a(F,{class:"text-grey"},{default:e(()=>[o(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),a(D,{dense:"",filled:"","use-input":"","emit-value":"","map-options":"","input-debounce":"500",label:"PIC",modelValue:n(c).piutang_pic,"onUpdate:modelValue":[i[2]||(i[2]=l=>n(c).piutang_pic=l),i[3]||(i[3]=l=>Q())],"option-label":"name",options:k.value,onFilter:_},{"no-option":e(()=>[a(j,null,{default:e(()=>[a(F,{class:"text-grey"},{default:e(()=>[o(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),header:e(l=>[a(w,{props:l},{default:e(()=>[(d(!0),f(y,null,P(l.cols,T=>(d(),B(N,{key:T.name,props:l,style:{"font-weight":"bold"}},{default:e(()=>[o(r(T.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(l=>[a(w,{props:l},{default:e(()=>[a(s,{key:"index",props:l},{default:e(()=>[o(r(++l.rowIndex),1)]),_:2},1032,["props"]),a(s,{key:"proyek",props:l},{default:e(()=>[o(r(l.row.nama_proyek),1)]),_:2},1032,["props"]),a(s,{key:"keperluan",props:l},{default:e(()=>[o(r(l.row.keperluan),1)]),_:2},1032,["props"]),a(s,{key:"jumlah_piutang",props:l},{default:e(()=>[o(r(n(m)(n(g)(l.row.jumlah_piutang))),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))}}),ie=v({__name:"KepalaDivisiPage",props:{proyek:{},piutang:{},overview:{},options:{}},setup(h){const u=[{label:"Dashboard",url:"#"},{label:"Overview",url:"#"}];return(p,k)=>{const t=R("in-link");return d(),f(y,null,[a(n(E),{title:"Dashboard"}),a(I,null,{breadcrumbs:e(()=>[a(q,{align:"left"},{default:e(()=>[(d(),f(y,null,P(u,_=>U(a(O,{label:_.label},null,8,["label"]),[[t,_.url]])),64))]),_:1})]),default:e(()=>[a(n(L),{overview:p.overview},null,8,["overview"]),a(n(G),{rows:p.proyek},null,8,["rows"]),a(n(X),{rows:p.piutang,options:p.options},null,8,["rows","options"])]),_:1})],64)}}});export{ie as default};
