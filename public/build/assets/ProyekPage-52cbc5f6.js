import{b as S,d as E,e as P,f as Q,Q as M,_ as x,a as A}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-2d866a3c.js";import{d as T,y as L,o as i,e as g,a,w as e,u as s,c as m,h as c,ac as v,ai as V,F as b,p as B,b as t,ab as p,k as H,n as I,Z as J,q as R}from"./app-739fb669.js";import{u as K,a as C,Q as r,b as Z,c as z}from"./use-dialog-plugin-component-50d342aa.js";import{c as $,Q as O,t as G,f as j,h as U,a as W,j as X,_ as Y,l as ee,m as ae,n as oe,o as le}from"./ProyekDeleteDialog.vue_vue_type_script_setup_true_lang-db61d37e.js";import"./QImg-454d5644.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./QForm-92572154.js";import"./options-964f32b0.js";const te={class:"q-pa-md"},ne=T({__name:"ProyekTable",props:{rows:{},formOptions:{}},setup(w){const f=w,n=K();function h(l){n.dialog({component:Y,componentProps:{proyek:l}})}function y(){n.dialog({component:ee,componentProps:{rows:f.rows,options:f.formOptions}})}function _(){n.dialog({component:ae,componentProps:{options:f.formOptions}}).onOk(l=>{n.notify({type:l.type,message:l.message,position:"top"})})}function D(l){n.dialog({component:oe,componentProps:{proyek:l,options:f.formOptions}}).onOk(u=>{n.notify({type:u.type,message:u.message,position:"top"})})}function q(l){n.dialog({component:le,componentProps:{id_proyek:l}}).onOk(u=>{n.notify({type:u.type,message:u.message,position:"top"})})}const F=[{name:"nama_proyek",label:"Nama Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"pengguna_jasa",label:"Pengguna Jasa",field:"pengguna_jasa",align:"left",sortable:!0},{name:"penyedia_jasa",label:"Penyedia Jasa",field:"penyedia_jasa",align:"left",sortable:!0},{name:"tahun_anggaran",label:"Tahun Anggaran",field:"tahun_anggaran",align:"left",sortable:!0},{name:"nilai_kontrak",label:"Nilai Kontrak",field:"nilai_kontrak",align:"right",sortable:!0},{name:"tanggal_mulai",label:"Tanggal Mulai",field:"tanggal_mulai",align:"left",sortable:!0},{name:"durasi",label:"Durasi (Hari)",field:"durasi",align:"left",sortable:!0},{name:"tanggal_selesai",label:"Tanggal Selesai",field:"tanggal_selesai",align:"left",sortable:!0},{name:"status_proyek",label:"Status",field:"status_proyek",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}],k=L(!1);function N(){k.value=!k.value}return(l,u)=>(i(),g("div",te,[a(Z,{flat:"",bordered:"","row-key":"nama_proyek",rows:l.rows,columns:F,"rows-per-page-options":[10,15,20,25,50,0],fullscreen:k.value},{"top-left":e(()=>[s($)("create & modify proyek")?(i(),m(c,{key:0,"no-caps":"",label:"Proyek Baru",icon:"add",color:"primary",onClick:_})):v("",!0)]),"top-right":e(()=>[Object.keys(l.$page.props.query).length?(i(),m(c,{key:0,flat:"","no-caps":"",label:"Clear Filter",icon:"clear",color:"secondary",onClick:u[0]||(u[0]=o=>s(V).visit(l.route("proyek")))})):v("",!0),a(c,{flat:"","no-caps":"",label:"Pencarian",icon:"search",color:"primary",onClick:y}),a(c,{flat:"",dense:"",icon:k.value?"fullscreen_exit":"fullscreen",onClick:N,class:"q-ml-md"},null,8,["icon"])]),header:e(o=>[a(C,{props:o},{default:e(()=>[(i(!0),g(b,null,B(o.cols,d=>(i(),m(z,{key:d.name,props:o,style:{"font-weight":"bold"}},{default:e(()=>[t(p(d.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(o=>[a(C,{props:o},{default:e(()=>[a(r,{key:"nama_proyek",props:o},{default:e(()=>[a(c,{flat:"","no-caps":"",dense:"",color:"primary",ripple:!1,label:o.row.nama_proyek,onClick:d=>h(o.row)},{default:e(()=>[a(O,{anchor:"bottom middle",self:"top middle"},{default:e(()=>[t(" Lihat Detail ")]),_:1})]),_:2},1032,["label","onClick"])]),_:2},1032,["props"]),a(r,{key:"pengguna_jasa",props:o},{default:e(()=>[t(p(o.row.pengguna_jasa),1)]),_:2},1032,["props"]),a(r,{key:"penyedia_jasa",props:o},{default:e(()=>[t(p(o.row.penyedia_jasa),1)]),_:2},1032,["props"]),a(r,{key:"tahun_anggaran",props:o},{default:e(()=>[t(p(o.row.tahun_anggaran),1)]),_:2},1032,["props"]),a(r,{key:"nilai_kontrak",props:o},{default:e(()=>[t(p(s(G)(o.row.nilai_kontrak)),1)]),_:2},1032,["props"]),a(r,{key:"tanggal_mulai",props:o},{default:e(()=>[t(p(s(j)(o.row.tanggal_mulai)),1)]),_:2},1032,["props"]),a(r,{key:"durasi",props:o},{default:e(()=>[t(p(o.row.durasi)+" Hari ",1)]),_:2},1032,["props"]),a(r,{key:"tanggal_selesai",props:o},{default:e(()=>[t(p(s(j)(o.row.tanggal_selesai)),1)]),_:2},1032,["props"]),a(r,{key:"status_proyek",props:o},{default:e(()=>[a(U,{color:o.row.status_proyek==400?"red":"primary",label:o.row.status_proyek==400?"Closed":"On Progress"},null,8,["color","label"])]),_:2},1032,["props"]),a(r,{key:"actions",props:o},{default:e(()=>[s(W)()||s($)("create & modify proyek")&&s(X)(o.row.status_proyek)?(i(),m(c,{key:0,dense:"",flat:"",color:"blue-grey",icon:"more_vert"},{default:e(()=>[a(S,{"auto-close":"","transition-show":"scale","transition-hide":"scale"},{default:e(()=>[a(E,{dense:"",style:{"min-width":"100px"}},{default:e(()=>[a(P,{clickable:""},{default:e(()=>[a(Q,{onClick:d=>D(o.row)},{default:e(()=>[t(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024),a(H),a(P,{clickable:""},{default:e(()=>[a(Q,{class:"text-red",onClick:d=>q(o.row.id_proyek)},{default:e(()=>[t(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(i(),m(c,{key:1,dense:"",flat:"",color:"grey-6",icon:"block"},{default:e(()=>[a(O,null,{default:e(()=>[t("Required permission")]),_:1})]),_:1}))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","fullscreen"])]))}}),me=T({__name:"ProyekPage",props:{proyek:{},formOptions:{}},setup(w){const f=[{label:"Main",url:"#"},{label:"Proyek",url:"#"}];return(n,h)=>{const y=I("in-link");return i(),g(b,null,[a(s(J),{title:"Proyek"}),a(x,null,{breadcrumbs:e(()=>[a(M,{align:"left"},{default:e(()=>[(i(),g(b,null,B(f,_=>R(a(A,{label:_.label},null,8,["label"]),[[y,_.url]])),64))]),_:1})]),default:e(()=>[a(s(ne),{rows:n.proyek,"form-options":n.formOptions},null,8,["rows","form-options"])]),_:1})],64)}}});export{me as default};
