import{b as q,_ as U,c as A}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-37451739.js";import{d as F,l as I,j as w,o as m,c as x,w as e,a,h as R,e as T,k as $,F as D,b as t,t as r,g as P,u as o,O as Q,m as N,Z as J,n as L}from"./app-9a281e26.js";import{_ as O}from"./DashboardOverview.vue_vue_type_script_setup_true_lang-1276f93e.js";import{a as f,b as n,c as S,d as K}from"./QTable-055131ee.js";import{a as c,t as y}from"./money-3074a8fc.js";import{Q as B}from"./QTooltip-2e5a4439.js";import{u as V}from"./use-quasar-a06a674a.js";import{_ as E}from"./PiutangFilterDialog.vue_vue_type_script_setup_true_lang-af23450a.js";import"./QImg-75496342.js";import"./use-dialog-plugin-component-33e3ef66.js";import"./QForm-2af13f93.js";import"./options-964f32b0.js";const Z={class:"text-caption text-weight-bold"},z={class:"text-caption"},G=F({__name:"SisaDanaRekeningTable",props:{rows:{}},setup(j){const h=j,s=I(()=>h.rows.map(l=>{const u=c(l.nilai_kontrak);return c(l.total_pengajuan_dana)+c(l.total_penagihan),c(l.total_pencairan_dana)+c(l.total_penagihan_diterima),{...l,sisa_dana:u-c(l.total_pencairan_dana)+c(l.total_penagihan_diterima)}})),g=[{name:"index",label:"#",field:"index"},{name:"rekening",label:"Rekening",field:"nama_rekening",align:"left",sortable:!0},{name:"sisa_dana",label:"Sisa Dana",field:"",align:"right",sortable:!0}],d=w(!1);function b(){d.value=!d.value}const k=w(),p=I(()=>{var u;return{sisa_dana:(u=k.value)==null?void 0:u.computedRows.reduce((_,i)=>_+c(i.sisa_dana),0)}});return(l,u)=>(m(),x(o(S),{ref_key:"table",ref:k,flat:"",bordered:"",title:"Sisa Dana Rekening",fullscreen:d.value,rows:s.value,columns:g,"row-key":"id_rekening",class:"table"},{"top-right":e(()=>[a(R,{flat:"",dense:"",icon:d.value?"fullscreen_exit":"fullscreen",onClick:b,class:"q-ml-md"},null,8,["icon"])]),header:e(_=>[a(f,{props:_},{default:e(()=>[(m(!0),T(D,null,$(_.cols,i=>(m(),x(K,{key:i.name,props:_,style:{"font-weight":"bold"}},{default:e(()=>[t(r(i.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(_=>[a(f,{props:_},{default:e(()=>[a(n,{key:"index",props:_},{default:e(()=>[t(r(++_.rowIndex),1)]),_:2},1032,["props"]),a(n,{key:"rekening",props:_},{default:e(()=>[P("span",Z,r(_.row.nama_bank),1),t(" | "),P("span",z,r(_.row.nomor_rekening),1),t(" - "+r(_.row.nama_rekening),1)]),_:2},1032,["props"]),a(n,{key:"sisa_dana",props:_},{default:e(()=>[t(r(o(y)(_.row.sisa_dana)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":e(()=>[a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"2"},{default:e(()=>[t("Total Sisa Dana")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(p.value.sisa_dana)),1)]),_:1})]),_:1})]),_:1},8,["fullscreen","rows"]))}});const H=F({__name:"ProyeksiInvoiceProyekTable",props:{rows:{}},setup(j){const h=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"invoice_sebelumnya",label:"Invoice Sebelumnya",field:"invoice_sebelumnya",align:"right",sortable:!0},{name:"invoice_saat_ini",label:"Invoice Saat Ini",field:"invoice_saat_ini",align:"right",sortable:!0},{name:"sisa_netto_kontrak",label:"Sisa Netto Kontrak",field:"sisa_netto_kontrak",align:"right",sortable:!0}],s=w(!1);function g(){s.value=!s.value}const d=w(),b=I(()=>{var u,_,i;const k=(u=d.value)==null?void 0:u.computedRows.reduce((v,C)=>v+c(C.invoice_sebelumnya),0),p=(_=d.value)==null?void 0:_.computedRows.reduce((v,C)=>v+c(C.invoice_saat_ini),0),l=(i=d.value)==null?void 0:i.computedRows.reduce((v,C)=>v+c(C.sisa_netto_kontrak),0);return{invoice_sebelumnya:k,invoice_saat_ini:p,sisa_netto_kontrak:l}});return(k,p)=>(m(),x(o(S),{ref_key:"table",ref:d,flat:"",bordered:"",title:"Proyeksi Invoice Proyek",fullscreen:s.value,rows:k.rows,columns:h,"row-key":"id_proyek",class:"table"},{"top-right":e(()=>[a(R,{flat:"",dense:"",icon:s.value?"fullscreen_exit":"fullscreen",onClick:g,class:"q-ml-md"},null,8,["icon"])]),header:e(l=>[a(f,{props:l},{default:e(()=>[(m(!0),T(D,null,$(l.cols,u=>(m(),x(K,{key:u.name,props:l,style:{"font-weight":"bold"}},{default:e(()=>[t(r(u.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(l=>[a(f,{props:l},{default:e(()=>[a(n,{key:"index",props:l},{default:e(()=>[t(r(++l.rowIndex),1)]),_:2},1032,["props"]),a(n,{key:"proyek",props:l},{default:e(()=>[t(r(l.row.nama_proyek),1)]),_:2},1032,["props"]),a(n,{key:"invoice_sebelumnya",props:l},{default:e(()=>[t(r(o(y)(o(c)(l.row.invoice_sebelumnya))),1)]),_:2},1032,["props"]),a(n,{key:"invoice_saat_ini",props:l},{default:e(()=>[t(r(o(y)(o(c)(l.row.invoice_saat_ini))),1)]),_:2},1032,["props"]),a(n,{key:"sisa_netto_kontrak",props:l},{default:e(()=>[t(r(o(y)(o(c)(l.row.sisa_netto_kontrak))),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":e(()=>[a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"4"},{default:e(()=>[t("Total Invoice Sebelumnya")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(b.value.invoice_sebelumnya)),1)]),_:1})]),_:1}),a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"4"},{default:e(()=>[t("Total Invoice Saat Ini")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(b.value.invoice_saat_ini)),1)]),_:1})]),_:1}),a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"4"},{default:e(()=>[t("Total Sisa Netto Kontrak")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(b.value.sisa_netto_kontrak)),1)]),_:1})]),_:1})]),_:1},8,["fullscreen","rows"]))}});const M=F({__name:"ProyeksiKebutuhanDanaProyekTable",props:{rows:{}},setup(j){const h=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"total_pengajuan",label:"Total Pengajuan",field:"total_pengajuan",align:"left",sortable:!0},{name:"jumlah_belum_dibayar",label:"Jumlah Belum Dibayar",field:"jumlah_belum_dibayar",align:"right",sortable:!0}],s=w(!1);function g(){s.value=!s.value}const d=w(),b=I(()=>{var p;return{jumlah_belum_dibayar:(p=d.value)==null?void 0:p.computedRows.reduce((l,u)=>l+c(u.jumlah_belum_dibayar),0)}});return(k,p)=>(m(),x(o(S),{ref_key:"table",ref:d,flat:"",bordered:"",title:"Proyeksi Kebutuhan Dana Proyek",fullscreen:s.value,rows:k.rows,columns:h,"row-key":"id_proyek",class:"table"},{"top-right":e(()=>[a(R,{flat:"",dense:"",icon:s.value?"fullscreen_exit":"fullscreen",onClick:g,class:"q-ml-md"},null,8,["icon"])]),header:e(l=>[a(f,{props:l},{default:e(()=>[(m(!0),T(D,null,$(l.cols,u=>(m(),x(K,{key:u.name,props:l,style:{"font-weight":"bold"}},{default:e(()=>[t(r(u.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(l=>[a(f,{props:l},{default:e(()=>[a(n,{key:"index",props:l},{default:e(()=>[t(r(++l.rowIndex),1)]),_:2},1032,["props"]),a(n,{key:"proyek",props:l},{default:e(()=>[t(r(l.row.nama_proyek),1)]),_:2},1032,["props"]),a(n,{key:"total_pengajuan",props:l},{default:e(()=>[t(r(l.row.total_pengajuan)+" Pengajuan ",1)]),_:2},1032,["props"]),a(n,{key:"jumlah_belum_dibayar",props:l},{default:e(()=>[t(r(o(y)(o(c)(l.row.jumlah_belum_dibayar))),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),"bottom-row":e(()=>[a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"3"},{default:e(()=>[t("Total Belum Dibayar")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(b.value.jumlah_belum_dibayar)),1)]),_:1})]),_:1})]),_:1},8,["fullscreen","rows"]))}});const W=F({__name:"ProyeksiUtangTable",props:{rows:{}},setup(j){const h=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"keperluan",label:"Keperluan",field:"keperluan",align:"left",sortable:!0},{name:"jumlah_utang",label:"Jumlah Utang",field:"jumlah_utang",align:"right",sortable:!0}],s=w(!1);function g(){s.value=!s.value}const d=w(),b=I(()=>{var p;return{utang:(p=d.value)==null?void 0:p.computedRows.reduce((l,u)=>l+c(u.jumlah_utang),0)}});return(k,p)=>(m(),x(o(S),{ref_key:"table",ref:d,flat:"",bordered:"",title:"Proyeksi Utang",fullscreen:s.value,rows:k.rows,columns:h,"row-key":"id_pencairan_dana",class:"table"},{"top-right":e(()=>[a(R,{flat:"",dense:"",icon:s.value?"fullscreen_exit":"fullscreen",onClick:g,class:"q-ml-md"},null,8,["icon"])]),header:e(l=>[a(f,{props:l},{default:e(()=>[(m(!0),T(D,null,$(l.cols,u=>(m(),x(K,{key:u.name,props:l,style:{"font-weight":"bold"}},{default:e(()=>[t(r(u.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(l=>[a(f,{props:l,onClick:u=>o(Q).visit(k.route("detail_pencairan_dana",l.row.id_pencairan_dana)),style:{cursor:"pointer"}},{default:e(()=>[a(n,{key:"index",props:l},{default:e(()=>[t(r(++l.rowIndex),1)]),_:2},1032,["props"]),a(n,{key:"proyek",props:l},{default:e(()=>[t(r(l.row.nama_proyek),1)]),_:2},1032,["props"]),a(n,{key:"keperluan",props:l},{default:e(()=>[t(r(l.row.keperluan),1)]),_:2},1032,["props"]),a(n,{key:"jumlah_utang",props:l},{default:e(()=>[t(r(o(y)(o(c)(l.row.jumlah_utang))),1)]),_:2},1032,["props"]),a(B,null,{default:e(()=>[t("Lihat Detail")]),_:1})]),_:2},1032,["props","onClick"])]),"bottom-row":e(()=>[a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"3"},{default:e(()=>[t("Total")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(b.value.utang)),1)]),_:1})]),_:1})]),_:1},8,["fullscreen","rows"]))}});const X=F({__name:"ProyeksiPiutangTable",props:{rows:{},options:{}},setup(j){const h=j,s=[{name:"index",label:"#",field:"index"},{name:"proyek",label:"Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"keperluan",label:"Keperluan",field:"keperluan",align:"left",sortable:!0},{name:"jumlah_piutang",label:"Jumlah Piutang",field:"jumlah_piutang",align:"right",sortable:!0}],g=w(!1);function d(){g.value=!g.value}const b=w(),k=I(()=>{var _;return{piutang:(_=b.value)==null?void 0:_.computedRows.reduce((i,v)=>i+c(v.jumlah_piutang),0)}}),p=V();function l(){p.dialog({component:E,componentProps:{options:h.options,data:{route:route("dashboard.keuangan")}}})}return(u,_)=>(m(),x(o(S),{ref_key:"table",ref:b,flat:"",bordered:"",title:"Proyeksi Piutang",fullscreen:g.value,rows:u.rows,columns:s,"row-key":"id_penagihan",class:"table"},{"top-right":e(()=>[a(R,{flat:"","no-caps":"",label:"Pencarian",icon:"search",color:"primary",onClick:l}),a(R,{flat:"",dense:"",icon:g.value?"fullscreen_exit":"fullscreen",onClick:d,class:"q-ml-md"},null,8,["icon"])]),header:e(i=>[a(f,{props:i},{default:e(()=>[(m(!0),T(D,null,$(i.cols,v=>(m(),x(K,{key:v.name,props:i,style:{"font-weight":"bold"}},{default:e(()=>[t(r(v.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(i=>[a(f,{props:i,onClick:v=>o(Q).visit(u.route("detail_penagihan",i.row.id_penagihan)),style:{cursor:"pointer"}},{default:e(()=>[a(n,{key:"index",props:i},{default:e(()=>[t(r(++i.rowIndex),1)]),_:2},1032,["props"]),a(n,{key:"proyek",props:i},{default:e(()=>[t(r(i.row.nama_proyek),1)]),_:2},1032,["props"]),a(n,{key:"keperluan",props:i},{default:e(()=>[t(r(i.row.keperluan),1)]),_:2},1032,["props"]),a(n,{key:"jumlah_piutang",props:i},{default:e(()=>[t(r(o(y)(o(c)(i.row.jumlah_piutang))),1)]),_:2},1032,["props"]),a(B,null,{default:e(()=>[t("Lihat Detail")]),_:1})]),_:2},1032,["props","onClick"])]),"bottom-row":e(()=>[a(f,{"no-hover":"",class:"text-weight-bold text-right"},{default:e(()=>[a(n,{colspan:"3"},{default:e(()=>[t("Total")]),_:1}),a(n,null,{default:e(()=>[t(r(o(y)(k.value.piutang)),1)]),_:1})]),_:1})]),_:1},8,["fullscreen","rows"]))}});const Y={class:"q-pa-md"},ee={class:"row q-col-gutter-md"},ae={class:"col-12 col-md-6"},le={class:"col-12 col-md-6"},te={class:"col-12"},ne={class:"col-12 col-md-6"},oe={class:"col-12 col-md-6"},ye=F({__name:"KeuanganPage",props:{sisaDanaRekening:{},proyeksiInvoiceProyek:{},proyeksiKebutuhanDanaProyek:{},proyeksiUtang:{},proyeksiPiutang:{},options:{},overview:{}},setup(j){const h=[{label:"Dashboard",url:"#"},{label:"Overview",url:"#"}];return(s,g)=>{const d=N("in-link");return m(),T(D,null,[a(o(J),{title:"Dashboard"}),a(U,null,{breadcrumbs:e(()=>[a(q,{align:"left"},{default:e(()=>[(m(),T(D,null,$(h,b=>L(a(A,{label:b.label},null,8,["label"]),[[d,b.url]])),64))]),_:1})]),default:e(()=>[a(o(O),{overview:s.overview},null,8,["overview"]),P("div",Y,[P("div",ee,[P("div",ae,[a(o(G),{rows:s.sisaDanaRekening},null,8,["rows"])]),P("div",le,[a(o(M),{rows:s.proyeksiKebutuhanDanaProyek},null,8,["rows"])]),P("div",te,[a(o(H),{rows:s.proyeksiInvoiceProyek},null,8,["rows"])]),P("div",ne,[a(o(W),{rows:s.proyeksiUtang},null,8,["rows"])]),P("div",oe,[a(o(X),{rows:s.proyeksiPiutang,options:s.options},null,8,["rows","options"])])])])]),_:1})],64)}}});export{ye as default};
