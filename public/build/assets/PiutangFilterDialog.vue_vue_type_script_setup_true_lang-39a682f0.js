import{u as c,Q as D}from"./use-dialog-plugin-component-530071f9.js";import{d as k,j as d,K as q,l as J,T as N,o as O,c as B,w as a,u as o,p as R,a as e,q as g,h as m,s as f,i as H,g as S,b as _,v as I,x as K}from"./app-98415438.js";import{Q,a as b}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-12264d28.js";import{Q as v}from"./QTable-a233578c.js";import{Q as T}from"./QForm-90bf62d3.js";import{m as U,f as A}from"./options-4b88285e.js";const M=S("div",{class:"text-h6"},"Pencarian Piutang",-1),z={class:"q-gutter-md"},$=k({__name:"PiutangFilterDialog",props:{options:{},data:{}},emits:[...c.emits],setup(x){const n=x,{dialogRef:C,onDialogOK:V,onDialogCancel:h,onDialogHide:w}=c(),u=d(n.options.pic),p=d(n.options.penggunaJasa);function y(s,t){t(()=>{u.value=U(s,n.options.pic,["id","name"])})}function F(s,t){t(()=>{p.value=A(s,n.options.penggunaJasa)})}const r=q().props.query,P=J(()=>n.options.pic.find(s=>s.id===r.piutang_pic)),i=N({piutang_query:!0,piutang_pic:P.value,piutang_pengguna_jasa:r.piutang_pengguna_jasa});function j(){i.get(n.data.route,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{V()}})}return(s,t)=>(O(),B(R,{ref_key:"dialogRef",ref:C,onHide:o(w)},{default:a(()=>[e(K,{style:{width:"400px","max-width":"80vw"}},{default:a(()=>[e(g,{class:"row items-center q-pb-none"},{default:a(()=>[M,e(D),e(m,{flat:"",round:"",dense:"",icon:"close",onClick:o(h)},null,8,["onClick"])]),_:1}),e(f),e(T,{onSubmit:H(j,["prevent"])},{default:a(()=>[e(g,{class:"scroll"},{default:a(()=>[S("div",z,[e(v,{outlined:"",clearable:"","use-input":"","emit-value":"","map-options":"","input-debounce":"500",label:"Penanggung Jawab (PIC)",modelValue:o(i).piutang_pic,"onUpdate:modelValue":t[0]||(t[0]=l=>o(i).piutang_pic=l),"option-value":"id","option-label":"name",options:u.value,onFilter:y},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(b,{class:"text-grey"},{default:a(()=>[_(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"]),e(v,{outlined:"",clearable:"","use-input":"","input-debounce":"500",label:"Pengguna jasa",modelValue:o(i).piutang_pengguna_jasa,"onUpdate:modelValue":t[1]||(t[1]=l=>o(i).piutang_pengguna_jasa=l),options:p.value,onFilter:F},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(b,{class:"text-grey"},{default:a(()=>[_(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),_:1}),e(f),e(I,{align:"right"},{default:a(()=>[e(m,{flat:"",type:"submit",label:"Search",color:"primary",loading:o(i).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}});export{$ as _};
