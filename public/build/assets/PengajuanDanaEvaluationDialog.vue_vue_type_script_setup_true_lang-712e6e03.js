import{Q as ee}from"./datetime-dc60c162.js";import{d as H,j as R,T,o as C,c as D,w as o,u as a,q as N,a as e,s as w,h as g,v as U,i as z,g as d,b as p,Q as O,I as L,J as G,t as m,x as J,B as M,y as A,G as oe,l as te,z as re,e as le,k as se,F as ie}from"./app-a9c22e82.js";import{Q as ae}from"./ModuleTopSection.vue_vue_type_script_setup_true_lang-430fdd1b.js";import{u as ne}from"./use-quasar-954ed4d5.js";import{Q as q,c as ue,a as Z,b as Q,d as de}from"./QTable-0e41b0f2.js";import{Q as P,a as V}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-b69e3ed2.js";import{u as x,Q as K}from"./use-dialog-plugin-component-646efe56.js";import{Q as Y}from"./QForm-332245d0.js";import{m as I,f as W}from"./options-4b88285e.js";import{t as F,s as X,a as B}from"./money-915f7772.js";const pe=d("div",{class:"text-h6"},"Tambah Uraian Pengajuan Proyek",-1),me={class:"q-gutter-md"},ge={class:"row"},_e={class:"col-12 col-md-6 q-pr-sm"},ce={class:"col-12 col-md-6 q-pl-sm"},fe={class:"text-primary"},We=H({__name:"PengajuanProyekItemCreateDialog",props:{pengajuanDana:{},options:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=["Cash","Transfer"],_=R(u.options.detailRap),h=R(u.options.rekening),$=R(c);function E(t,s){s(()=>{_.value=I(t,u.options.detailRap,["uraian"])})}function S(t,s){s(()=>{h.value=I(t,u.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function r(t,s){s(()=>{$.value=W(t,c)})}async function v(t){if(typeof t=="string"){const s=await X(t);n.jumlah_pengajuan=s}}const n=T({uraian:null,jumlah_pengajuan:0,jenis_pembayaran:null,id_detail_rap:null,id_rekening:null});function l(){n.transform(t=>({...t,kategori:"Proyek"})).post(route("detail_pengajuan_dana.store",u.pengajuanDana.id_pengajuan_dana),{onSuccess:t=>{b({type:"positive",message:t.props.flash.success})}})}return(t,s)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[pe,e(K),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(j)},null,8,["onClick"])]),_:1}),e(U),e(Y,{onSubmit:z(l,["prevent"])},{default:o(()=>[e(w,{class:"scroll"},{default:o(()=>[d("div",me,[e(q,{outlined:"","use-input":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"POS",modelValue:a(n).id_detail_rap,"onUpdate:modelValue":s[0]||(s[0]=i=>a(n).id_detail_rap=i),"option-value":"id_detail_rap","option-label":"uraian",options:_.value,error:!!a(n).errors.id_detail_rap,"error-message":a(n).errors.id_detail_rap,onFilter:E},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(O,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(n).uraian,"onUpdate:modelValue":s[1]||(s[1]=i=>a(n).uraian=i),error:!!a(n).errors.uraian,"error-message":a(n).errors.uraian},null,8,["modelValue","error","error-message"]),d("div",ge,[d("div",_e,[e(O,{outlined:"","hide-bottom-space":"",label:"Jumlah Pengajuan",modelValue:a(n).jumlah_pengajuan,"onUpdate:modelValue":[s[2]||(s[2]=i=>a(n).jumlah_pengajuan=i),s[3]||(s[3]=i=>v(i))],hint:a(F)(a(n).jumlah_pengajuan),"hide-hint":a(n).jumlah_pengajuan<1,error:!!a(n).errors.jumlah_pengajuan,"error-message":a(n).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),d("div",ce,[e(q,{outlined:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:a(n).jenis_pembayaran,"onUpdate:modelValue":s[4]||(s[4]=i=>a(n).jenis_pembayaran=i),options:$.value,error:!!a(n).errors.jenis_pembayaran,"error-message":a(n).errors.jenis_pembayaran,onFilter:r},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(q,{outlined:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:a(n).id_rekening,"onUpdate:modelValue":s[5]||(s[5]=i=>a(n).id_rekening=i),"option-value":"id_rekening","option-label":i=>`${i.nama_bank} | ${i.nomor_rekening} - ${i.nama_rekening}`,options:h.value,error:!!a(n).errors.id_rekening,"error-message":a(n).errors.id_rekening,onFilter:S},{option:o(i=>[e(P,L(G(i.itemProps)),{default:o(()=>[e(V,null,{default:o(()=>[d("strong",fe,m(i.opt.nama_bank),1),p(" "+m(i.opt.nomor_rekening)+" - "+m(i.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(U),e(J,{align:"right"},{default:o(()=>[a(n).hasErrors?(C(),D(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:s[6]||(s[6]=i=>a(n).clearErrors())})):M("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:s[7]||(s[7]=i=>a(n).reset())}),e(g,{flat:"",type:"submit",label:"Submit",color:"primary",loading:a(n).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),be=d("div",{class:"text-h6"},"Edit Uraian Pengajuan Proyek",-1),je={class:"q-gutter-md"},he={class:"row"},ke={class:"col-12 col-md-6 q-pr-sm"},ye={class:"col-12 col-md-6 q-pl-sm"},ve={class:"text-primary"},Xe=H({__name:"PengajuanProyekItemEditDialog",props:{detailPengajuanDana:{},options:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=["Cash","Transfer"],_=R(u.options.detailRap),h=R(u.options.rekening),$=R(c);function E(t,s){s(()=>{_.value=I(t,u.options.detailRap,["uraian"])})}function S(t,s){s(()=>{h.value=I(t,u.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function r(t,s){s(()=>{$.value=W(t,c)})}async function v(t){if(typeof t=="string"){const s=await X(t);n.jumlah_pengajuan=s}}const n=T({uraian:u.detailPengajuanDana.uraian,jumlah_pengajuan:B(u.detailPengajuanDana.jumlah_pengajuan),jenis_pembayaran:u.detailPengajuanDana.jenis_pembayaran,id_detail_rap:u.detailPengajuanDana.id_detail_rap,id_rekening:u.detailPengajuanDana.id_rekening});function l(){n.transform(t=>({...t,kategori:"Proyek"})).patch(route("detail_pengajuan_dana.update",u.detailPengajuanDana.id_detail_pengajuan_dana),{onSuccess:t=>{b({type:"positive",message:t.props.flash.success})}})}return(t,s)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[be,e(K),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(j)},null,8,["onClick"])]),_:1}),e(U),e(Y,{onSubmit:z(l,["prevent"])},{default:o(()=>[e(w,{class:"scroll"},{default:o(()=>[d("div",je,[e(q,{outlined:"","use-input":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"POS",modelValue:a(n).id_detail_rap,"onUpdate:modelValue":s[0]||(s[0]=i=>a(n).id_detail_rap=i),"option-value":"id_detail_rap","option-label":"uraian",options:_.value,error:!!a(n).errors.id_detail_rap,"error-message":a(n).errors.id_detail_rap,onFilter:E},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"]),e(O,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(n).uraian,"onUpdate:modelValue":s[1]||(s[1]=i=>a(n).uraian=i),error:!!a(n).errors.uraian,"error-message":a(n).errors.uraian},null,8,["modelValue","error","error-message"]),d("div",he,[d("div",ke,[e(O,{outlined:"","hide-bottom-space":"",label:"Jumlah Pengajuan",modelValue:a(n).jumlah_pengajuan,"onUpdate:modelValue":[s[2]||(s[2]=i=>a(n).jumlah_pengajuan=i),s[3]||(s[3]=i=>v(i))],hint:a(F)(a(n).jumlah_pengajuan),"hide-hint":a(n).jumlah_pengajuan<1,error:!!a(n).errors.jumlah_pengajuan,"error-message":a(n).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),d("div",ye,[e(q,{outlined:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:a(n).jenis_pembayaran,"onUpdate:modelValue":s[4]||(s[4]=i=>a(n).jenis_pembayaran=i),options:$.value,error:!!a(n).errors.jenis_pembayaran,"error-message":a(n).errors.jenis_pembayaran,onFilter:r},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(q,{outlined:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:a(n).id_rekening,"onUpdate:modelValue":s[5]||(s[5]=i=>a(n).id_rekening=i),"option-value":"id_rekening","option-label":i=>`${i.nama_bank} | ${i.nomor_rekening} - ${i.nama_rekening}`,options:h.value,error:!!a(n).errors.id_rekening,"error-message":a(n).errors.id_rekening,onFilter:S},{option:o(i=>[e(P,L(G(i.itemProps)),{default:o(()=>[e(V,null,{default:o(()=>[d("strong",ve,m(i.opt.nama_bank),1),p(" "+m(i.opt.nomor_rekening)+" - "+m(i.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(U),e(J,{align:"right"},{default:o(()=>[a(n).hasErrors?(C(),D(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:s[6]||(s[6]=i=>a(n).clearErrors())})):M("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:s[7]||(s[7]=i=>a(n).reset())}),e(g,{flat:"",type:"submit",label:"Update",color:"primary",loading:a(n).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),Pe=d("div",{class:"text-h6"},"Tambah Uraian Pengajuan Direct",-1),Ve={class:"q-gutter-md"},Ce={class:"row"},we={class:"col-12 col-md-6 q-pr-sm"},De={class:"col-12 col-md-6 q-pl-sm"},$e={class:"text-primary"},Ze=H({__name:"PengajuanDirectItemCreateDialog",props:{pengajuanDana:{},options:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=["Cash","Transfer"],_=R(u.options.rekening),h=R(c);function $(n,l){l(()=>{_.value=I(n,u.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function E(n,l){l(()=>{h.value=W(n,c)})}async function S(n){if(typeof n=="string"){const l=await X(n);r.jumlah_pengajuan=l}}const r=T({uraian:null,jumlah_pengajuan:0,jenis_pembayaran:null,id_rekening:null});function v(){r.transform(n=>({...n,id_detail_rap:null})).post(route("detail_pengajuan_dana.store",u.pengajuanDana.id_pengajuan_dana),{onSuccess:n=>{b({type:"positive",message:n.props.flash.success})}})}return(n,l)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[Pe,e(K),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(j)},null,8,["onClick"])]),_:1}),e(U),e(Y,{onSubmit:z(v,["prevent"])},{default:o(()=>[e(w,{class:"scroll"},{default:o(()=>[d("div",Ve,[e(O,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(r).uraian,"onUpdate:modelValue":l[0]||(l[0]=t=>a(r).uraian=t),error:!!a(r).errors.uraian,"error-message":a(r).errors.uraian},null,8,["modelValue","error","error-message"]),d("div",Ce,[d("div",we,[e(O,{outlined:"","hide-bottom-space":"",label:"Jumlah Pengajuan",modelValue:a(r).jumlah_pengajuan,"onUpdate:modelValue":[l[1]||(l[1]=t=>a(r).jumlah_pengajuan=t),l[2]||(l[2]=t=>S(t))],hint:a(F)(a(r).jumlah_pengajuan),"hide-hint":a(r).jumlah_pengajuan<1,error:!!a(r).errors.jumlah_pengajuan,"error-message":a(r).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),d("div",De,[e(q,{outlined:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:a(r).jenis_pembayaran,"onUpdate:modelValue":l[3]||(l[3]=t=>a(r).jenis_pembayaran=t),options:h.value,error:!!a(r).errors.jenis_pembayaran,"error-message":a(r).errors.jenis_pembayaran,onFilter:E},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(q,{outlined:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:a(r).id_rekening,"onUpdate:modelValue":l[4]||(l[4]=t=>a(r).id_rekening=t),"option-value":"id_rekening","option-label":t=>`${t.nama_bank} | ${t.nomor_rekening} - ${t.nama_rekening}`,options:_.value,error:!!a(r).errors.id_rekening,"error-message":a(r).errors.id_rekening,onFilter:$},{option:o(t=>[e(P,L(G(t.itemProps)),{default:o(()=>[e(V,null,{default:o(()=>[d("strong",$e,m(t.opt.nama_bank),1),p(" "+m(t.opt.nomor_rekening)+" - "+m(t.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(U),e(J,{align:"right"},{default:o(()=>[a(r).hasErrors?(C(),D(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:l[5]||(l[5]=t=>a(r).clearErrors())})):M("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:l[6]||(l[6]=t=>a(r).reset())}),e(g,{flat:"",type:"submit",label:"Submit",color:"primary",loading:a(r).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),xe=d("div",{class:"text-h6"},"Edit Uraian Pengajuan Direct",-1),Se={class:"q-gutter-md"},Re={class:"row"},Ue={class:"col-12 col-md-6 q-pr-sm"},Qe={class:"col-12 col-md-6 q-pl-sm"},Fe={class:"text-primary"},ea=H({__name:"PengajuanDirectItemEditDialog",props:{detailPengajuanDana:{},options:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=["Cash","Transfer"],_=R(u.options.rekening),h=R(c);function $(n,l){l(()=>{_.value=I(n,u.options.rekening,["nama_bank","nomor_rekening","nama_rekening"])})}function E(n,l){l(()=>{h.value=W(n,c)})}async function S(n){if(typeof n=="string"){const l=await X(n);r.jumlah_pengajuan=l}}const r=T({uraian:u.detailPengajuanDana.uraian,jumlah_pengajuan:B(u.detailPengajuanDana.jumlah_pengajuan),jenis_pembayaran:u.detailPengajuanDana.jenis_pembayaran,id_rekening:u.detailPengajuanDana.id_rekening});function v(){r.transform(n=>({...n,id_detail_rap:null})).patch(route("detail_pengajuan_dana.update",u.detailPengajuanDana.id_detail_pengajuan_dana),{onSuccess:n=>{b({type:"positive",message:n.props.flash.success})}})}return(n,l)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,{style:{width:"700px","max-width":"80vw"}},{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[xe,e(K),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(j)},null,8,["onClick"])]),_:1}),e(U),e(Y,{onSubmit:z(v,["prevent"])},{default:o(()=>[e(w,{class:"scroll"},{default:o(()=>[d("div",Se,[e(O,{outlined:"",autogrow:"","hide-bottom-space":"",label:"Uraian",modelValue:a(r).uraian,"onUpdate:modelValue":l[0]||(l[0]=t=>a(r).uraian=t),error:!!a(r).errors.uraian,"error-message":a(r).errors.uraian},null,8,["modelValue","error","error-message"]),d("div",Re,[d("div",Ue,[e(O,{outlined:"","hide-bottom-space":"",label:"Jumlah Pengajuan",modelValue:a(r).jumlah_pengajuan,"onUpdate:modelValue":[l[1]||(l[1]=t=>a(r).jumlah_pengajuan=t),l[2]||(l[2]=t=>S(t))],hint:a(F)(a(r).jumlah_pengajuan),"hide-hint":a(r).jumlah_pengajuan<1,error:!!a(r).errors.jumlah_pengajuan,"error-message":a(r).errors.jumlah_pengajuan,"input-class":"text-right"},null,8,["modelValue","hint","hide-hint","error","error-message"])]),d("div",Qe,[e(q,{outlined:"","use-input":"","use-chips":"","hide-bottom-space":"","input-debounce":"500",label:"Jenis Pembayaran",modelValue:a(r).jenis_pembayaran,"onUpdate:modelValue":l[3]||(l[3]=t=>a(r).jenis_pembayaran=t),options:h.value,error:!!a(r).errors.jenis_pembayaran,"error-message":a(r).errors.jenis_pembayaran,onFilter:E},{"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message"])])]),e(q,{outlined:"","use-input":"","use-chips":"","emit-value":"","map-options":"","hide-bottom-space":"","input-debounce":"500",label:"Rekening Pembayaran",modelValue:a(r).id_rekening,"onUpdate:modelValue":l[4]||(l[4]=t=>a(r).id_rekening=t),"option-value":"id_rekening","option-label":t=>`${t.nama_bank} | ${t.nomor_rekening} - ${t.nama_rekening}`,options:_.value,error:!!a(r).errors.id_rekening,"error-message":a(r).errors.id_rekening,onFilter:$},{option:o(t=>[e(P,L(G(t.itemProps)),{default:o(()=>[e(V,null,{default:o(()=>[d("strong",Fe,m(t.opt.nama_bank),1),p(" "+m(t.opt.nomor_rekening)+" - "+m(t.opt.nama_rekening),1)]),_:2},1024)]),_:2},1040)]),"no-option":o(()=>[e(P,null,{default:o(()=>[e(V,{class:"text-grey"},{default:o(()=>[p(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","option-label","options","error","error-message"])])]),_:1}),e(U),e(J,{align:"right"},{default:o(()=>[a(r).hasErrors?(C(),D(g,{key:0,flat:"",label:"Clear Errors",color:"red",onClick:l[5]||(l[5]=t=>a(r).clearErrors())})):M("",!0),e(g,{flat:"",label:"Reset",color:"secondary",onClick:l[6]||(l[6]=t=>a(r).reset())}),e(g,{flat:"",type:"submit",label:"Update",color:"primary",loading:a(r).processing},null,8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["onHide"]))}}),qe=d("div",{class:"text-h6"},"Delete Confirmation",-1),Oe=d("span",{class:"q-ml-sm"},"Are you sure want to delete this data?",-1),aa=H({__name:"PengajuanDanaItemDeleteDialog",props:{id_detail_pengajuan_dana:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=T({id_detail_pengajuan_dana:u.id_detail_pengajuan_dana});function _(){c.delete(route("detail_pengajuan_dana.destroy",u.id_detail_pengajuan_dana),{onSuccess:h=>{b({type:"positive",message:h.props.flash.success})}})}return(h,$)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,null,{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[qe]),_:1}),e(U),e(w,{class:"row items-center"},{default:o(()=>[e(oe,{icon:"dangerous",color:"red","text-color":"white"}),Oe]),_:1}),e(J,{align:"right"},{default:o(()=>[e(g,{flat:"",label:"Cancel",color:"primary",onClick:a(j)},null,8,["onClick"]),e(g,{flat:"",label:"Yes, delete it",color:"red",onClick:_})]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),na=H({__name:"PengajuanDanaSubmissionForm",props:{data:{}},setup(k){const u=k,f=ne(),b=T({catatan:""});function j(){b.post(route("pengajuan_dana.submit",u.data.id_pengajuan_dana),{onSuccess:c=>{f.notify({type:"positive",message:c.props.flash.success,position:"top"})}})}function y(){f.dialog({title:"Submission Confirmation",message:"Are you sure want to use this action?",prompt:{outlined:!0,autogrow:!0,model:"",type:"text",placeholder:"Tambahkan Catatan"},color:"primary",cancel:!0,persistent:!0}).onOk(c=>{b.catatan=c,j()})}return(c,_)=>(C(),D(ae,{position:"bottom-right",offset:[18,18]},{default:o(()=>[e(g,{rounded:"",color:"primary",label:"Submit","icon-right":"check",onClick:y,class:"q-pa-md"},{default:o(()=>[e(ee,null,{default:o(()=>[p("Click to submit")]),_:1})]),_:1})]),_:1}))}}),oa=H({__name:"PengajuanDanaEvaluateForm",props:{data:{}},setup(k){const u=k,f=ne();function b(){f.dialog({component:Ie,componentProps:{data:u.data}}).onOk(j=>{f.notify({type:j.type,message:j.message,position:"top"})})}return(j,y)=>(C(),D(ae,{position:"bottom-right",offset:[18,18]},{default:o(()=>[e(g,{rounded:"",label:"Evaluasi",color:"primary",icon:"keyboard_arrow_left",onClick:b,class:"q-pa-md"},{default:o(()=>[e(ee,null,{default:o(()=>[p("Evaluasi Pengajuan")]),_:1})]),_:1})]),_:1}))}}),Ee=d("div",{class:"text-h6"},"Lembar Evaluasi",-1),He={class:"q-gutter-md"},Te={class:"q-gutter-md"},Ie=H({__name:"PengajuanDanaEvaluationDialog",props:{data:{}},emits:[...x.emits],setup(k){const u=k,{dialogRef:f,onDialogOK:b,onDialogCancel:j,onDialogHide:y}=x(),c=te(()=>u.data.evaluasi.map(r=>{if(r.pengajuan_saat_ini="0",u.data.approvedPengajuanSaatIni!=null){const t=u.data.approvedPengajuanSaatIni.find(s=>s.id_detail_rap===r.id_detail_rap);t&&(r.pengajuan_saat_ini+=t.jumlah_pengajuan)}const v=r.pengajuan_lalu?r.pengajuan_lalu:"0",n=B(v)+B(r.pengajuan_saat_ini),l=B(r.total_harga)-n;return{...r,total_pengajuan:n,sisa_anggaran:l}})),_=T({selected_ids_detail_pengajuan_dana:u.data.selected_ids_detail_pengajuan_dana,catatan:null});function h(){_.post(route("pengajuan_dana.approve",u.data.id_pengajuan_dana),{onSuccess:r=>{b({type:"positive",message:r.props.flash.success})}})}function $(){_.post(route("pengajuan_dana.reject",u.data.id_pengajuan_dana),{onSuccess:r=>{b({type:"positive",message:r.props.flash.success})}})}const E=[{name:"index",label:"#",field:"index"},{name:"uraian",label:"Uraian",field:"uraian",align:"left",sortable:!0},{name:"nama_satuan",label:"Satuan",field:"nama_satuan",align:"left",sortable:!0},{name:"harga_satuan",label:"Harga Satuan",field:"harga_satuan",align:"right",sortable:!0},{name:"volume",label:"Volume",field:"volume",align:"left",sortable:!0},{name:"total_harga",label:"Total Harga",field:"total_harga",align:"right",sortable:!0},{name:"pengajuan_lalu",label:"Pengajuan Sebelumnya",field:"pengajuan_lalu",align:"right",sortable:!0},{name:"pengajuan_saat_ini",label:"Pengajuan Saat Ini",field:"",align:"right",sortable:!0},{name:"total_pengajuan",label:"Total Pengajuan",field:"",align:"right",sortable:!0},{name:"sisa_anggaran",label:"Sisa Anggaran",field:"",align:"right",sortable:!0}],S=R();return(r,v)=>(C(),D(N,{ref_key:"dialogRef",ref:f,"no-backdrop-dismiss":!0,onHide:a(y)},{default:o(()=>[e(A,{style:{"max-width":"100vw"}},{default:o(()=>[e(w,{class:"row items-center q-pb-none"},{default:o(()=>[Ee,e(K),e(g,{flat:"",round:"",dense:"",icon:"close",onClick:a(j)},null,8,["onClick"])]),_:1}),e(U),e(w,{class:"scroll"},{default:o(()=>[d("div",He,[e(ue,{flat:"",bordered:"","row-key":"id_detail_rap",rows:c.value,columns:E,filter:S.value,"rows-per-page-options":[0],title:"Evaluasi Pengajuan Dana",style:{"max-height":"100vh"},"virtual-scroll":""},{"top-right":o(()=>[e(O,{dense:"",debounce:"300",modelValue:S.value,"onUpdate:modelValue":v[0]||(v[0]=n=>S.value=n),placeholder:"Search"},{append:o(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),header:o(n=>[e(Z,{props:n},{default:o(()=>[(C(!0),le(ie,null,se(n.cols,l=>(C(),D(de,{key:l.name,props:n,style:{"font-weight":"bold"}},{default:o(()=>[p(m(l.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:o(n=>[e(Z,{props:n},{default:o(()=>[e(Q,{key:"index",props:n},{default:o(()=>[p(m(++n.rowIndex),1)]),_:2},1032,["props"]),e(Q,{key:"uraian",props:n},{default:o(()=>[p(m(n.row.uraian),1)]),_:2},1032,["props"]),e(Q,{key:"nama_satuan",props:n},{default:o(()=>[p(m(n.row.nama_satuan),1)]),_:2},1032,["props"]),e(Q,{key:"harga_satuan",props:n},{default:o(()=>[p(m(a(F)(n.row.harga_satuan)),1)]),_:2},1032,["props"]),e(Q,{key:"volume",props:n},{default:o(()=>[p(m(n.row.volume),1)]),_:2},1032,["props"]),e(Q,{key:"total_harga",props:n},{default:o(()=>[p(m(a(F)(n.row.total_harga)),1)]),_:2},1032,["props"]),e(Q,{key:"pengajuan_lalu",props:n},{default:o(()=>[p(m(a(F)(n.row.pengajuan_lalu)),1)]),_:2},1032,["props"]),e(Q,{key:"pengajuan_saat_ini",props:n},{default:o(()=>[p(m(a(F)(n.row.pengajuan_saat_ini||0)),1)]),_:2},1032,["props"]),e(Q,{key:"total_pengajuan",props:n},{default:o(()=>[p(m(a(F)(n.row.total_pengajuan)),1)]),_:2},1032,["props"]),e(Q,{key:"sisa_anggaran",props:n},{default:o(()=>[p(m(a(F)(n.row.sisa_anggaran)),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])]),_:1}),e(w,null,{default:o(()=>[d("div",Te,[e(O,{outlined:"",autogrow:"",label:"Catatan",modelValue:a(_).catatan,"onUpdate:modelValue":v[1]||(v[1]=n=>a(_).catatan=n)},null,8,["modelValue"])])]),_:1}),e(U),e(J,{align:"right"},{default:o(()=>{var n,l;return[e(g,{flat:"",label:"Tolak",color:"red",loading:a(_).processing,disable:!!((n=r.data.selected_ids_detail_pengajuan_dana)!=null&&n.length),onClick:$},null,8,["loading","disable"]),e(g,{flat:"",label:"Approve",color:"primary",loading:a(_).processing,disable:!((l=r.data.selected_ids_detail_pengajuan_dana)!=null&&l.length),onClick:h},null,8,["loading","disable"])]}),_:1})]),_:1})]),_:1},8,["onHide"]))}});export{Ze as _,ea as a,aa as b,na as c,oa as d,We as e,Xe as f};
