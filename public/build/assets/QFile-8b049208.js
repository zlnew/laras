import{x as L,s as ee,t as I,am as pe,z as i,V as U,C as r,L as E,Y as Se,an as oe,h as w,H as te,I as se,ao as ke,ap as xe,y as H,K as Ce,aq as qe,P as re,ar as ue,as as Fe,a7 as $e,a8 as De,d as ce,o as A,c as K,w as h,u as O,ad as Pe,a as y,j as Y,g as T,ab as z,k as je,e as de,p as Qe,F as Te,m as fe,b as V,ac as Z,at as we,D as me,X as ze,au as Be,av as Ve,aw as Ae,ax as Oe,ay as Ne,az as Ie,aA as ne,aB as Le,aC as Ee,aD as Re}from"./app-739fb669.js";import{f as Me,Q as M,g as Ke,k as Ue,d as He,e as We,_ as Xe}from"./ProyekDeleteDialog.vue_vue_type_script_setup_true_lang-db61d37e.js";import{d as ie,e as Ye,u as Ge,g as Je}from"./use-dialog-plugin-component-50d342aa.js";import{h as Ze}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-2d866a3c.js";const et={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function tt(){const{props:e,proxy:{$q:a}}=L(),o=ee(pe,I);if(o===I)return console.error("QPageSticky needs to be child of QLayout"),I;const c=i(()=>{const s=e.position;return{top:s.indexOf("top")>-1,right:s.indexOf("right")>-1,bottom:s.indexOf("bottom")>-1,left:s.indexOf("left")>-1,vertical:s==="top"||s==="bottom",horizontal:s==="left"||s==="right"}}),n=i(()=>o.header.offset),l=i(()=>o.right.offset),d=i(()=>o.footer.offset),b=i(()=>o.left.offset),g=i(()=>{let s=0,k=0;const C=c.value,D=a.lang.rtl===!0?-1:1;C.top===!0&&n.value!==0?k=`${n.value}px`:C.bottom===!0&&d.value!==0&&(k=`${-d.value}px`),C.left===!0&&b.value!==0?s=`${D*b.value}px`:C.right===!0&&l.value!==0&&(s=`${-D*l.value}px`);const f={transform:`translate(${s}, ${k})`};return e.offset&&(f.margin=`${e.offset[1]}px ${e.offset[0]}px`),C.vertical===!0?(b.value!==0&&(f[a.lang.rtl===!0?"right":"left"]=`${b.value}px`),l.value!==0&&(f[a.lang.rtl===!0?"left":"right"]=`${l.value}px`)):C.horizontal===!0&&(n.value!==0&&(f.top=`${n.value}px`),d.value!==0&&(f.bottom=`${d.value}px`)),f}),S=i(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function F(s){const k=U(s.default);return r("div",{class:S.value,style:g.value},e.expand===!0?k:[r("div",k)])}return{$layout:o,getStickyContent:F}}const qt=E({name:"QPageSticky",props:et,setup(e,{slots:a}){const{getStickyContent:o}=tt();return()=>o(a)}}),at=["top","right","bottom","left"],ve={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>at.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ge(e,a){return{formClass:i(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:i(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:i(()=>{if(e.externalLabel===!0){const o=e.hideLabel===null?a.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(o===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const be={start:"self-end",center:"self-center",end:"self-start"},lt=Object.keys(be),Ft=E({name:"QFabAction",props:{...ve,icon:{type:String,default:""},anchor:{type:String,validator:e=>lt.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:a,emit:o}){const c=ee(oe,()=>({showing:{value:!0},onChildClick:Se})),{formClass:n,labelProps:l}=ge(e,c.showing),d=i(()=>{const s=be[e.anchor];return n.value+(s!==void 0?` ${s}`:"")}),b=i(()=>e.disable===!0||c.showing.value!==!0);function g(s){c.onChildClick(s),o("click",s)}function S(){const s=[];return a.icon!==void 0?s.push(a.icon()):e.icon!==""&&s.push(r(te,{name:e.icon})),(e.label!==""||a.label!==void 0)&&s[l.value.action](r("div",l.value.data,a.label!==void 0?a.label():[e.label])),se(a.default,s)}const F=L();return Object.assign(F.proxy,{click:g}),()=>r(w,{class:d.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:b.value,onClick:g},S)}}),nt=["up","right","down","left"],it=["left","center","right"],$t=E({name:"QFab",props:{...ve,...ke,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>nt.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>it.includes(e)}},emits:xe,setup(e,{slots:a}){const o=H(null),c=H(e.modelValue===!0),n=Ce(),{proxy:{$q:l}}=L(),{formClass:d,labelProps:b}=ge(e,c),g=i(()=>e.persistent!==!0),{hide:S,toggle:F}=qe({showing:c,hideOnRouteChange:g}),s=i(()=>({opened:c.value})),k=i(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${d.value}`+(c.value===!0?" q-fab--opened":" q-fab--closed")),C=i(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${c.value===!0?"opened":"closed"}`),D=i(()=>{const t={id:n,role:"menu"};return c.value!==!0&&(t["aria-hidden"]="true"),t}),f=i(()=>`q-fab__icon-holder  q-fab__icon-holder--${c.value===!0?"opened":"closed"}`);function B(t,p){const P=a[t],j=`q-fab__${t} absolute-full`;return P===void 0?r(te,{class:j,name:e[p]||l.iconSet.fab[p]}):r("div",{class:j},P(s.value))}function R(){const t=[];return e.hideIcon!==!0&&t.push(r("div",{class:f.value},[B("icon","icon"),B("active-icon","activeIcon")])),(e.label!==""||a.label!==void 0)&&t[b.value.action](r("div",b.value.data,a.label!==void 0?a.label(s.value):[e.label])),se(a.tooltip,t)}return re(oe,{showing:c,onChildClick(t){S(t),o.value!==null&&o.value.$el.focus()}}),()=>r("div",{class:k.value},[r(w,{ref:o,class:d.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":c.value===!0?"true":"false","aria-haspopup":"true","aria-controls":n,onClick:F},R),r("div",{class:C.value,...D.value},U(a.default))])}}),ot=E({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:a}){const o=ee(ue,I);if(o===I)return console.error("QTimelineEntry needs to be child of QTimeline"),I;const c=i(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),n=i(()=>`q-timeline__dot text-${e.color||o.color}`),l=i(()=>o.layout==="comfortable"&&o.side==="left");return()=>{const d=Fe(a.default,[]);if(e.body!==void 0&&d.unshift(e.body),e.heading===!0){const S=[r("div"),r("div"),r(e.tag,{class:"q-timeline__heading-title"},d)];return r("div",{class:"q-timeline__heading"},l.value===!0?S.reverse():S)}let b;e.icon!==void 0?b=[r(te,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(b=[r("img",{class:"q-timeline__dot-img",src:e.avatar})]);const g=[r("div",{class:"q-timeline__subtitle"},[r("span",{},U(a.subtitle,[e.subtitle]))]),r("div",{class:n.value},b),r("div",{class:"q-timeline__content"},[r("h6",{class:"q-timeline__title"},U(a.title,[e.title]))].concat(d))];return r("li",{class:c.value},l.value===!0?g.reverse():g)}}}),st=E({name:"QTimeline",props:{...$e,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:a}){const o=L(),c=De(e,o.proxy.$q);re(ue,e);const n=i(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(c.value===!0?" q-timeline--dark":""));return()=>r("ul",{class:n.value},U(a.default))}}),rt={class:"text-h6"},ut={class:"q-px-lg q-py-md"},ct={class:"text-subtitle1"},dt={class:"text-caption text-grey-8"},ft={class:"text-weight-bold"},mt={class:"text-capitalize"},vt=ce({__name:"TimelineDialog",props:{title:{},timeline:{}},emits:[...ie.emits],setup(e){const{dialogRef:a,onDialogCancel:o,onDialogHide:c}=ie(),n=d=>{switch(d){case"Dibuat":return"commit";case"Diajukan":return"send";case"Ditolak":return"priority_high";case"Dievaluasi":return"done";case"Disetujui":return"done_all";case"Diterima Bertahap":return"done";case"Diterima":return"done_all"}},l=d=>{switch(d){case"Dibuat":return"secondary";case"Diajukan":return"primary";case"Ditolak":return"red";case"Dievaluasi":return"green";case"Disetujui":return"green";case"Diterima Bertahap":return"green";case"Diterima":return"green"}};return(d,b)=>(A(),K(Pe,{ref_key:"dialogRef",ref:a,onHide:O(c)},{default:h(()=>[y(fe,{style:{width:"700px","max-width":"80vw"}},{default:h(()=>[y(Y,{class:"row items-center q-pb-none"},{default:h(()=>[T("div",rt,z(d.title),1),y(Ye),y(w,{flat:"",round:"",dense:"",icon:"close",onClick:O(o)},null,8,["onClick"])]),_:1}),y(je),y(Y,{class:"scroll"},{default:h(()=>[T("div",ut,[y(st,{layout:"comfortable",color:"secondary"},{default:h(()=>[(A(!0),de(Te,null,Qe(d.timeline,g=>(A(),K(ot,{key:g.id_timeline,subtitle:O(Me)(g.created_at),body:g.catatan,color:l(g.status_aktivitas),icon:n(g.status_aktivitas)},{title:h(()=>[T("div",ct,z(g.status_aktivitas),1),T("div",dt,[V(" Oleh "),T("span",ft,z(g.user_name),1),V(" - "),T("span",mt,z(g.user_role),1)])]),_:2},1032,["subtitle","body","color","icon"]))),128))]),_:1})])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),gt={class:"q-px-md q-pt-md"},bt={class:"row justify-between items-center"},ht={class:"text-h6 line-clamp"},Dt=ce({__name:"ModuleTopSection",props:{data:{},title:{},timelineTitle:{}},setup(e){const a=e,o=Ge();function c(){o.dialog({component:Xe,componentProps:{proyek:a.data.proyek}})}function n(){o.dialog({component:vt,componentProps:{title:a.timelineTitle,timeline:a.data.timeline}})}return(l,d)=>(A(),de("div",gt,[y(fe,{flat:"",bordered:""},{default:h(()=>[T("div",bt,[y(Y,{class:"col-6"},{default:h(()=>[y(w,{flat:"","no-caps":"",dense:"",onClick:c},{default:h(()=>[T("div",ht,z(l.title)+" - "+z(l.data.proyek.nama_proyek),1),y(M,null,{default:h(()=>[V(z(l.data.proyek.nama_proyek),1)]),_:1})]),_:1})]),_:1}),y(Y,{class:"q-gutter-x-sm"},{default:h(()=>[O(Ke)(l.data.proyek)?(A(),K(w,{key:0,flat:"",dense:"",round:"",color:"grey-6",icon:"warning"},{default:h(()=>[y(M,null,{default:h(()=>[V("Ditolak")]),_:1})]),_:1})):Z("",!0),O(Ue)(l.data.proyek)?(A(),K(w,{key:1,flat:"",dense:"",round:"",color:"grey",icon:"done_all"},{default:h(()=>[y(M,null,{default:h(()=>[V("Telah Disetujui")]),_:1})]),_:1})):Z("",!0),O(He)(l.data.proyek)||O(We)(l.data.proyek)?(A(),K(w,{key:2,flat:"",dense:"",round:"",color:"grey",icon:"rotate_right"},{default:h(()=>[y(M,null,{default:h(()=>[V("Menunggu Persetujuan")]),_:1})]),_:1})):Z("",!0),y(w,{rounded:"","icon-right":"expand_more",label:l.data.status==400?"Closed":"Open",color:l.data.status==400?"red":"primary",onClick:n},{default:h(()=>[y(M,null,{default:h(()=>[V("Lihat Timeline "+z(l.title),1)]),_:1})]),_:1},8,["label","color"])]),_:1})])]),_:1})]))}});function N(e,a,o,c){const n=[];return e.forEach(l=>{c(l)===!0?n.push(l):a.push({failedPropValidation:o,file:l})}),n}function X(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),me(e)}const yt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},_t=["rejected"];function pt({editable:e,dnd:a,getFileInput:o,addFilesToQueue:c}){const{props:n,emit:l,proxy:d}=L(),b=H(null),g=i(()=>n.accept!==void 0?n.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),S=i(()=>parseInt(n.maxFiles,10)),F=i(()=>parseInt(n.maxTotalSize,10));function s(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&we(t);else{const p=o();p&&p!==t.target&&p.click(t)}}function k(t){e.value&&t&&c(null,t)}function C(t,p,P,j){let m=Array.from(p||t.target.files);const q=[],Q=()=>{q.length!==0&&l("rejected",q)};if(n.accept!==void 0&&g.value.indexOf("*/")===-1&&(m=N(m,q,"accept",v=>g.value.some(_=>v.type.toUpperCase().startsWith(_)||v.name.toUpperCase().endsWith(_))),m.length===0))return Q();if(n.maxFileSize!==void 0){const v=parseInt(n.maxFileSize,10);if(m=N(m,q,"max-file-size",_=>_.size<=v),m.length===0)return Q()}if(n.multiple!==!0&&m.length!==0&&(m=[m[0]]),m.forEach(v=>{v.__key=v.webkitRelativePath+v.lastModified+v.name+v.size}),j===!0){const v=P.map(_=>_.__key);m=N(m,q,"duplicate",_=>v.includes(_.__key)===!1)}if(m.length===0)return Q();if(n.maxTotalSize!==void 0){let v=j===!0?P.reduce((_,G)=>_+G.size,0):0;if(m=N(m,q,"max-total-size",_=>(v+=_.size,v<=F.value)),m.length===0)return Q()}if(typeof n.filter=="function"){const v=n.filter(m);m=N(m,q,"filter",_=>v.includes(_))}if(n.maxFiles!==void 0){let v=j===!0?P.length:0;if(m=N(m,q,"max-files",()=>(v++,v<=S.value)),m.length===0)return Q()}if(Q(),m.length!==0)return m}function D(t){X(t),a.value!==!0&&(a.value=!0)}function f(t){me(t),(t.relatedTarget!==null||ze.is.safari!==!0?t.relatedTarget!==b.value:document.elementsFromPoint(t.clientX,t.clientY).includes(b.value)===!1)===!0&&(a.value=!1)}function B(t){X(t);const p=t.dataTransfer.files;p.length!==0&&c(null,p),a.value=!1}function R(t){if(a.value===!0)return r("div",{ref:b,class:`q-${t}__dnd absolute-full`,onDragenter:X,onDragover:X,onDragleave:f,onDrop:B})}return Object.assign(d,{pickFiles:s,addFiles:k}),{pickFiles:s,addFiles:k,onDragover:D,onDragleave:f,processFiles:C,getDndNode:R,maxFilesNumber:S,maxTotalSizeNumber:F}}const Pt=E({name:"QFile",inheritAttrs:!1,props:{...Be,...Ve,...yt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ae,..._t],setup(e,{slots:a,emit:o,attrs:c}){const{proxy:n}=L(),l=Oe(),d=H(null),b=H(!1),g=Ne(e),{pickFiles:S,onDragover:F,onDragleave:s,processFiles:k,getDndNode:C}=pt({editable:l.editable,dnd:b,getFileInput:ae,addFilesToQueue:le}),D=Ie(e),f=i(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),B=i(()=>ne(f.value)),R=i(()=>f.value.map(u=>u.name).join(", ")),t=i(()=>Ze(f.value.reduce((u,x)=>u+x.size,0))),p=i(()=>({totalSize:t.value,filesNumber:f.value.length,maxFiles:e.maxFiles})),P=i(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:g.value,...c,id:l.targetUid.value,disabled:l.editable.value!==!0})),j=i(()=>"q-file q-field--auto-height"+(b.value===!0?" q-file--dnd":"")),m=i(()=>e.multiple===!0&&e.append===!0);function q(u){const x=f.value.slice();x.splice(u,1),v(x)}function Q(u){const x=f.value.indexOf(u);x>-1&&q(x)}function v(u){o("update:modelValue",e.multiple===!0?u:u[0])}function _(u){u.keyCode===13&&Re(u)}function G(u){(u.keyCode===13||u.keyCode===32)&&S(u)}function ae(){return d.value}function le(u,x){const $=k(u,x,f.value,m.value),J=ae();J!=null&&(J.value=""),$!==void 0&&((e.multiple===!0?e.modelValue&&$.every(_e=>f.value.includes(_e)):e.modelValue===$[0])||v(m.value===!0?f.value.concat($):$))}function W(){return[r("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function he(){if(a.file!==void 0)return f.value.length===0?W():f.value.map((x,$)=>a.file({index:$,file:x,ref:this}));if(a.selected!==void 0)return f.value.length===0?W():a.selected({files:f.value,ref:this});if(e.useChips===!0)return f.value.length===0?W():f.value.map((x,$)=>r(Je,{key:"file-"+$,removable:l.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{q($)}},()=>r("span",{class:"ellipsis",textContent:x.name})));const u=e.displayValue!==void 0?e.displayValue:R.value;return u.length!==0?[r("div",{class:e.inputClass,style:e.inputStyle,textContent:u})]:W()}function ye(){const u={ref:d,...P.value,...D.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:le};return e.multiple===!0&&(u.multiple=!0),r("input",u)}return Object.assign(l,{fieldClass:j,emitValue:v,hasValue:B,inputRef:d,innerValue:f,floatingLabel:i(()=>B.value===!0||ne(e.displayValue)),computedCounter:i(()=>{if(e.counterLabel!==void 0)return e.counterLabel(p.value);const u=e.maxFiles;return`${f.value.length}${u!==void 0?" / "+u:""} (${t.value})`}),getControlChild:()=>C("file"),getControl:()=>{const u={ref:l.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return l.editable.value===!0&&Object.assign(u,{onDragover:F,onDragleave:s,onKeydown:_,onKeyup:G}),r("div",u,[ye()].concat(he()))}}),Object.assign(n,{removeAtIndex:q,removeFile:Q,getNativeElement:()=>d.value}),Le(n,"nativeEl",()=>d.value),Ee(l)}});export{qt as Q,Dt as _,Ft as a,$t as b,Pt as c};
