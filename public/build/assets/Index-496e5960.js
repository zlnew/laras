import{_ as F,a as H,C as K}from"./Content-bd766961.js";import{C as U,a as W,_ as q}from"./Card-e7102610.js";import{T as z,a as A,_ as w,b as r,c as I,d as s}from"./Table-278ffbd2.js";import{_ as J}from"./Create.m.vue_vue_type_script_setup_true_lang-6f065146.js";import{_ as O}from"./Edit.m.vue_vue_type_script_setup_true_lang-f9e9c053.js";import{_ as Z}from"./Delete.m.vue_vue_type_script_setup_true_lang-8e59ad00.js";import{_ as G}from"./Search.m.vue_vue_type_script_setup_true_lang-0cd42c51.js";import{t as Q}from"./number-6d20867b.js";import{l as C}from"./date-7cb373b2.js";import{M as f}from"./modal-faea5502.js";import{T as y}from"./toastify-36657954.js";import{d as X,K as Y,b as P,k as aa,e as $,c as b,h as a,u as e,g as t,F as T,o as u,Z as ea,n as M,j as B,a as m,f as k,l as o,p as D,q as ta,m as na,y as sa,t as _}from"./app-ff9ff714.js";import"./Modal.vue_vue_type_style_index_0_scoped_fdb70d85_lang-a432a803.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Footer-61a96086.js";import"./Head.vue_vue_type_script_setup_true_lang-f77b6573.js";import"./Input.vue_vue_type_script_setup_true_lang-c51e0bbf.js";import"./Label.vue_vue_type_script_setup_true_lang-cb48c286.js";import"./Error.vue_vue_type_script_setup_true_lang-c6dbfeeb.js";import"./vue-select-61ccd8a2.js";import"./Select.vue_vue_type_script_setup_true_lang-1001c70b.js";const la={class:"flex justify-between items-center"},ra={class:"line-clamp-2 hover:line-clamp-none"},oa={class:"flex"},Ba=X({__name:"Index",props:{daftar_proyek:{}},setup(N){const L=N,c=Y(),g=c.props.permissions,x=P(()=>!!(g.includes("create proyek")&&g.includes("update proyek")&&g.includes("delete proyek"))),h=P(()=>({data:L.daftar_proyek.data.map(l=>{const d=C(l.waktu_mulai),i=C(l.waktu_selesai),n=l.status_proyek==400?"Closed":"On Progress",v=Q(l.nilai_kontrak);return{...l,waktu_mulai_in_ll:d,waktu_selesai_in_ll:i,status_proyek_in_string:n,nilai_kontrak_in_rupiah:v}})}));function S(){f.pop(J)}function V(p){f.pop(O,{proyek:p})}function j(p){f.pop(Z,{id_proyek:p})}function E(){f.pop(G)}return aa(()=>{c.props.flash.success&&y.success(c.props.flash.success),c.props.flash.error&&y.error(c.props.flash.error)}),(p,l)=>{const d=$("fas-icon"),i=$("ease-button");return u(),b(T,null,[a(e(ea),{title:"Daftar Proyek"}),a(F,null,{breadcrumb:t(()=>[a(H,M(B({second:"Proyek",current:"Daftar Proyek"})),null,16)]),default:t(()=>[a(K,null,{default:t(()=>[a(e(U),null,{default:t(()=>[a(e(W),null,{default:t(()=>[m("div",la,[m("div",null,[x.value?(u(),k(i,{key:0,onClick:S,slotted:""},{default:t(()=>[a(d,{icon:"fa-solid fa-plus",class:"mr-1"}),o(" Proyek Baru ")]),_:1})):D("",!0)]),a(i,{onClick:l[0]||(l[0]=n=>E()),variant:"transparent",slotted:""},{default:t(()=>[a(d,{icon:"fa-solid fa-search",class:"mr-1"}),o(" Pencarian ")]),_:1})])]),_:1}),a(e(q),{table:""},{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(A),null,{default:t(()=>[a(e(w),null,{default:t(()=>[a(e(r),{value:"Nama Proyek"}),a(e(r),{value:"Tahun Anggaran"}),a(e(r),{value:"Pengguna Jasa"}),a(e(r),{"text-align":"center",value:"Waktu Mulai"}),a(e(r),{"text-align":"center",value:"Waktu Selesai"}),a(e(r),{"text-align":"right",value:"Nilai Kontrak"}),a(e(r),{"text-align":"center",value:"Status"}),a(e(r))]),_:1})]),_:1}),a(e(I),null,{default:t(()=>[h.value.data.length?(u(!0),b(T,{key:0},ta(h.value.data,(n,v)=>(u(),k(e(w),na({key:n.id_proyek},{last:v===h.value.data.length-1}),{default:t(()=>[a(e(s),null,{default:t(()=>[a(e(sa),{class:"link",href:"#"},{default:t(()=>[m("span",ra,_(n.nama_proyek),1)]),_:2},1024)]),_:2},1024),a(e(s),{whitespace:"nowrap"},{default:t(()=>[o(_(n.tahun_anggaran),1)]),_:2},1024),a(e(s),{whitespace:"normal"},{default:t(()=>[o(_(n.pengguna_jasa),1)]),_:2},1024),a(e(s),{whitespace:"nowrap","text-align":"center"},{default:t(()=>[o(_(n.waktu_mulai_in_ll),1)]),_:2},1024),a(e(s),{whitespace:"nowrap","text-align":"center"},{default:t(()=>[o(_(n.waktu_selesai_in_ll),1)]),_:2},1024),a(e(s),{whitespace:"nowrap","text-align":"right"},{default:t(()=>[o(_(n.nilai_kontrak_in_rupiah),1)]),_:2},1024),a(e(s),{whitespace:"nowrap","text-align":"center"},{default:t(()=>[a(i,M(B({text:n.status_proyek_in_string,variant:n.status_proyek==400?"danger-transparent":"transparent"})),null,16)]),_:2},1024),x.value?(u(),k(e(s),{key:0,whitespace:"nowrap"},{default:t(()=>[m("div",oa,[a(i,{onClick:R=>V(n),variant:"link",text:"Edit"},null,8,["onClick"]),a(i,{onClick:R=>j(n.id_proyek),variant:"danger-link",text:"Delete"},null,8,["onClick"])])]),_:2},1024)):D("",!0)]),_:2},1040))),128)):(u(),k(e(w),{key:1,last:""},{default:t(()=>[a(e(s),{colspan:"7","text-align":"center"},{default:t(()=>[o(" Proyek tidak ditemukan ")]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Ba as default};
