import{d as P,l as E,i as L,m as N,f as S,g as I,Q as C,a as Q,b as M,_ as V,c as K}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-b69e3ed2.js";import{d as T,j as R,o as l,e as _,a,w as e,u as r,c,h as u,O as b,B as $,F as w,k as B,b as s,t as k,i as D,A as z,v as Z,n as G,Z as H,p as J}from"./app-a9c22e82.js";import{a as O,b as d,c as U,d as W}from"./QTable-0e41b0f2.js";import{Q as j}from"./datetime-dc60c162.js";import{Q as X,_ as Y}from"./ProyekDeleteDialog.vue_vue_type_script_setup_true_lang-29a71a0e.js";import{u as ee}from"./use-quasar-954ed4d5.js";import{d as ae,e as ne,f as oe,c as te}from"./PengajuanDanaDeleteDialog.vue_vue_type_script_setup_true_lang-f1609c38.js";import"./QImg-b742b038.js";import"./use-dialog-plugin-component-646efe56.js";import"./money-915f7772.js";import"./QForm-332245d0.js";import"./options-4b88285e.js";const le={class:"q-pa-md"},re={key:1,class:"text-h6"},se=T({__name:"PengajuanProyekTable",props:{rows:{},formOptions:{}},setup(h){const f=h,t=ee();function v(o){t.dialog({component:Y,componentProps:{proyek:o}})}function y(){t.dialog({component:ae,componentProps:{options:f.formOptions}})}function m(){t.dialog({component:ne,componentProps:{options:f.formOptions}}).onOk(o=>{t.notify({type:o.type,message:o.message,position:"top"})})}function q(o){t.dialog({component:oe,componentProps:{pengajuanDana:o,options:f.formOptions}}).onOk(i=>{t.notify({type:i.type,message:i.message,position:"top"})})}function x(o){t.dialog({component:te,componentProps:{id_pengajuan_dana:o}}).onOk(i=>{t.notify({type:i.type,message:i.message,position:"top"})})}const F=[{name:"index",label:"#",field:"index"},{name:"nama_proyek",label:"Nama Proyek",field:"nama_proyek",align:"left",sortable:!0},{name:"tahun_anggaran",label:"Tahun Anggaran",field:"tahun_anggaran",align:"left",sortable:!0},{name:"keperluan",label:"Keperluan",field:"keperluan",align:"left",sortable:!0},{name:"status_pengajuan",label:"Status",field:"status_pengajuan",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"",align:"left"}],g=R(!1);function A(){g.value=!g.value}return(o,i)=>(l(),_("div",le,[a(U,{flat:"",bordered:"","row-key":"id_rap",rows:o.rows,columns:F,"rows-per-page-options":[10,15,20,25,50,0],fullscreen:g.value},{"top-left":e(()=>[r(P)("create & modify pengajuan dana")?(l(),c(u,{key:0,"no-caps":"",label:"Tambah Pengajuan Proyek",icon:"add",color:"primary",onClick:m})):(l(),_("div",re,"List Pengajuan Dana"))]),"top-right":e(()=>[Object.keys(o.$page.props.query).length?(l(),c(u,{key:0,flat:"","no-caps":"",label:"Clear Filter",icon:"clear",color:"secondary",onClick:i[0]||(i[0]=n=>r(b).visit(o.route("pengajuan_dana_proyek")))})):$("",!0),a(u,{flat:"","no-caps":"",label:"Pencarian",icon:"search",color:"primary",onClick:y}),a(u,{flat:"",dense:"",icon:g.value?"fullscreen_exit":"fullscreen",onClick:A,class:"q-ml-md"},null,8,["icon"])]),header:e(n=>[a(O,{props:n},{default:e(()=>[(l(!0),_(w,null,B(n.cols,p=>(l(),c(W,{key:p.name,props:n,style:{"font-weight":"bold"}},{default:e(()=>[s(k(p.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(n=>[a(O,{props:n},{default:e(()=>[a(d,{key:"index",props:n},{default:e(()=>[s(k(++n.rowIndex),1)]),_:2},1032,["props"]),a(d,{key:"nama_proyek",props:n},{default:e(()=>[a(u,{flat:"","no-caps":"",dense:"",color:"primary",ripple:!1,label:n.row.nama_proyek,onClick:p=>v(n.row)},{default:e(()=>[a(j,{anchor:"bottom middle",self:"top middle"},{default:e(()=>[s(" Lihat Detail ")]),_:1})]),_:2},1032,["label","onClick"])]),_:2},1032,["props"]),a(d,{key:"tahun_anggaran",props:n,onClick:D(p=>r(b).visit(o.route("detail_pengajuan_dana_proyek",n.row.id_pengajuan_dana)),["prevent"]),style:{cursor:"pointer"}},{default:e(()=>[s(k(n.row.tahun_anggaran),1)]),_:2},1032,["props","onClick"]),a(d,{key:"keperluan",props:n,onClick:D(p=>r(b).visit(o.route("detail_pengajuan_dana_proyek",n.row.id_pengajuan_dana)),["prevent"]),style:{cursor:"pointer"}},{default:e(()=>[s(k(n.row.keperluan),1)]),_:2},1032,["props","onClick"]),a(d,{key:"status_pengajuan",props:n},{default:e(()=>[r(E)(n.row.status_aktivitas)?(l(),c(u,{key:0,flat:"",dense:"",round:"",color:"grey-6",icon:"warning",size:"sm"},{default:e(()=>[a(j,null,{default:e(()=>[s("Ditolak")]),_:1})]),_:1})):$("",!0),a(r(z),{href:o.route("detail_pengajuan_dana_proyek",n.row.id_pengajuan_dana)},{default:e(()=>[a(X,{color:n.row.status_pengajuan==400?"red":"primary",label:n.row.status_pengajuan==400?"Closed":"Open"},null,8,["color","label"])]),_:2},1032,["href"])]),_:2},1032,["props"]),a(d,{key:"actions",props:n},{default:e(()=>[r(L)()||r(P)("create & modify pengajuan dana")&&r(N)(n.row.status_pengajuan)?(l(),c(u,{key:0,dense:"",flat:"",color:"blue-grey",icon:"more_vert"},{default:e(()=>[a(S,{"auto-close":"","transition-show":"scale","transition-hide":"scale"},{default:e(()=>[a(I,{dense:"",style:{"min-width":"100px"}},{default:e(()=>[a(C,{clickable:""},{default:e(()=>[a(Q,{onClick:p=>q(n.row)},{default:e(()=>[s(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024),a(Z),a(C,{clickable:""},{default:e(()=>[a(Q,{class:"text-red",onClick:p=>x(n.row.id_pengajuan_dana)},{default:e(()=>[s(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(l(),c(u,{key:1,dense:"",flat:"",color:"grey-6",icon:"block"},{default:e(()=>[a(j,null,{default:e(()=>[s("Required permission")]),_:1})]),_:1}))]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","fullscreen"])]))}}),je=T({__name:"PengajuanProyekPage",props:{pengajuanDana:{},formOptions:{}},setup(h){const f=[{label:"Keuangan",url:"#"},{label:"Pengajuan Proyek",url:"#"}];return(t,v)=>{const y=G("in-link");return l(),_(w,null,[a(r(H),{title:"Pengajuan Proyek"}),a(V,null,{breadcrumbs:e(()=>[a(M,{align:"left"},{default:e(()=>[(l(),_(w,null,B(f,m=>J(a(K,{key:m.label,label:m.label},null,8,["label"]),[[y,m.url]])),64))]),_:1})]),default:e(()=>[a(r(se),{rows:t.pengajuanDana,"form-options":t.formOptions},null,8,["rows","form-options"])]),_:1})],64)}}});export{je as default};
